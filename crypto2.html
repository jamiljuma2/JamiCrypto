<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JamiCrypto - Professional Crypto Trading</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns/dist/chartjs-adapter-date-fns.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-chart-financial"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        * {
            font-family: 'Inter', sans-serif;
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .dark .gradient-bg {
            background: linear-gradient(135deg, #2d3748 0%, #1a202c 100%);
        }
        
        .glass-effect {
            backdrop-filter: blur(10px);
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .dark .glass-effect {
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .animate-pulse-slow {
            animation: pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        
        .price-up {
            color: #10b981;
            animation: flash-green 0.5s ease-in-out;
        }
        
        .price-down {
            color: #ef4444;
            animation: flash-red 0.5s ease-in-out;
        }
        
        @keyframes flash-green {
            0%, 100% { background-color: transparent; }
            50% { background-color: rgba(16, 185, 129, 0.1); }
        }
        
        @keyframes flash-red {
            0%, 100% { background-color: transparent; }
            50% { background-color: rgba(239, 68, 68, 0.1); }
        }
        
        .trading-card {
            transition: all 0.3s ease;
        }
        
        .trading-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
        
        .dark .trading-card:hover {
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
        }
        
        .verification-step {
            transition: all 0.3s ease;
        }
        
        .verification-step.active {
            border-color: #3B82F6;
            background-color: rgba(59, 130, 246, 0.05);
        }
        
        .dark .verification-step.active {
            background-color: rgba(59, 130, 246, 0.1);
        }
        
        .verification-step.completed {
            border-color: #10B981;
            background-color: rgba(16, 185, 129, 0.05);
        }
        
        .dark .verification-step.completed {
            background-color: rgba(16, 185, 129, 0.1);
        }
        
        .upload-area {
            border: 2px dashed #D1D5DB;
            transition: all 0.3s ease;
        }
        
        .upload-area:hover {
            border-color: #3B82F6;
            background-color: rgba(59, 130, 246, 0.05);
        }
        
        .dark .upload-area {
            border-color: #4B5563;
        }
        
        .dark .upload-area:hover {
            border-color: #3B82F6;
            background-color: rgba(59, 130, 246, 0.1);
        }
        
        .camera-preview {
            width: 100%;
            height: 300px;
            background: #000;
            border-radius: 12px;
            position: relative;
            overflow: hidden;
        }
        
        .face-detection-overlay {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 200px;
            height: 250px;
            border: 3px solid #3B82F6;
            border-radius: 50%;
            opacity: 0.8;
        }
        
        .blink-indicator {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 8px 12px;
            border-radius: 20px;
            font-size: 12px;
        }
        
        @keyframes blink-animation {
            0%, 50%, 100% { opacity: 1; }
            25%, 75% { opacity: 0.3; }
        }
        
        .blinking {
            animation: blink-animation 2s infinite;
        }
    </style>
</head>
<body class="bg-gray-50 dark:bg-gray-900 transition-colors duration-300">
    <!-- Navigation -->
    <nav class="bg-white dark:bg-gray-800 shadow-lg border-b border-gray-200 dark:border-gray-700">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center space-x-4">
                    <div class="flex items-center space-x-2">
                        <div class="w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center">
                            <span class="text-white font-bold text-sm">JC</span>
                        </div>
                        <span class="text-xl font-bold text-gray-900 dark:text-white">JamiCrypto</span>
                    </div>
                    <div class="hidden md:flex space-x-6 ml-8">
                        <button onclick="showSection('dashboard')" class="nav-btn text-blue-600 dark:text-blue-400 font-medium">Dashboard</button>
                        <button onclick="showSection('trading')" class="nav-btn text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400">Trading</button>
                        <button onclick="showSection('wallet')" class="nav-btn text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400">Wallet</button>
                        <button onclick="showSection('analytics')" class="nav-btn text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400">Analytics</button>
                        <button onclick="showSection('market')" class="nav-btn text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400">Market</button>
                        <button onclick="showSection('learn')" class="nav-btn text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400">Learn</button>
                        <button onclick="showSection('p2p')" class="nav-btn text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400">P2P</button>
                        <button onclick="showSection('verification')" class="nav-btn text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400">Verify</button>
                    </div>
                </div>
                <div class="flex items-center space-x-4">
                    <button onclick="toggleTheme()" class="p-2 rounded-lg bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors">
                        <svg class="w-5 h-5 text-gray-600 dark:text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path>
                        </svg>
                    </button>
                    <div class="flex items-center space-x-2 bg-green-100 dark:bg-green-900 px-3 py-1 rounded-full">
                        <div class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></div>
                        <span class="text-sm font-medium text-green-800 dark:text-green-200">Demo Mode</span>
                    </div>
                    <button onclick="showAuthModal('signin')" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors">
                        Sign In
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Dashboard Section -->
    <div id="dashboard" class="section">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <!-- Portfolio Overview -->
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8">
                <div class="lg:col-span-2">
                    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 trading-card">
                        <div class="flex justify-between items-center mb-6">
                            <h2 class="text-2xl font-bold text-gray-900 dark:text-white">Portfolio Overview</h2>
                            <div class="flex space-x-2">
                                <button class="px-3 py-1 text-sm bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded-lg">24H</button>
                                <button class="px-3 py-1 text-sm text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg">7D</button>
                                <button class="px-3 py-1 text-sm text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg">1M</button>
                            </div>
                        </div>
                        <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6">
                            <div>
                                <p class="text-sm text-gray-600 dark:text-gray-400">Total Balance</p>
                                <p class="text-2xl font-bold text-gray-900 dark:text-white">$24,567.89</p>
                                <p class="text-sm text-green-600 dark:text-green-400">+5.67% (+$1,234.56)</p>
                            </div>
                            <div>
                                <p class="text-sm text-gray-600 dark:text-gray-400">Available</p>
                                <p class="text-xl font-semibold text-gray-900 dark:text-white">$18,432.10</p>
                            </div>
                            <div>
                                <p class="text-sm text-gray-600 dark:text-gray-400">In Orders</p>
                                <p class="text-xl font-semibold text-gray-900 dark:text-white">$6,135.79</p>
                            </div>
                            <div>
                                <p class="text-sm text-gray-600 dark:text-gray-400">P&L Today</p>
                                <p class="text-xl font-semibold text-green-600 dark:text-green-400">+$456.78</p>
                            </div>
                        </div>
                        <div class="h-64">
                            <canvas id="portfolioChart"></canvas>
                        </div>
                    </div>
                </div>
                <div class="space-y-6">
                    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 trading-card">
                        <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Quick Actions</h3>
                        <div class="space-y-3">
                            <button onclick="showSection('trading')" class="w-full bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-lg font-medium transition-colors">
                                Start Trading
                            </button>
                            <button onclick="showSection('wallet')" class="w-full bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-900 dark:text-white py-3 rounded-lg font-medium transition-colors">
                                Deposit Funds
                            </button>
                            <button onclick="showSection('analytics')" class="w-full bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-900 dark:text-white py-3 rounded-lg font-medium transition-colors">
                                View Analytics
                            </button>
                        </div>
                    </div>
                    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 trading-card">
                        <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Market Status</h3>
                        <div class="space-y-3">
                            <div class="flex justify-between items-center">
                                <span class="text-sm text-gray-600 dark:text-gray-400">Fear & Greed Index</span>
                                <span class="text-sm font-medium text-orange-600 dark:text-orange-400">72 (Greed)</span>
                            </div>
                            <div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2">
                                <div class="bg-orange-500 h-2 rounded-full" style="width: 72%"></div>
                            </div>
                            <div class="flex justify-between items-center pt-2">
                                <span class="text-sm text-gray-600 dark:text-gray-400">Market Cap</span>
                                <span class="text-sm font-medium text-gray-900 dark:text-white">$2.1T</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-sm text-gray-600 dark:text-gray-400">24h Volume</span>
                                <span class="text-sm font-medium text-gray-900 dark:text-white">$89.2B</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Top Cryptocurrencies -->
            <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 trading-card">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-xl font-bold text-gray-900 dark:text-white">Top Cryptocurrencies</h2>
                    <button class="text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-medium">View All</button>
                </div>
                <div class="overflow-x-auto">
                    <table class="w-full">
                        <thead>
                            <tr class="border-b border-gray-200 dark:border-gray-700">
                                <th class="text-left py-3 text-sm font-medium text-gray-600 dark:text-gray-400">#</th>
                                <th class="text-left py-3 text-sm font-medium text-gray-600 dark:text-gray-400">Name</th>
                                <th class="text-right py-3 text-sm font-medium text-gray-600 dark:text-gray-400">Price</th>
                                <th class="text-right py-3 text-sm font-medium text-gray-600 dark:text-gray-400">24h %</th>
                                <th class="text-right py-3 text-sm font-medium text-gray-600 dark:text-gray-400">Market Cap</th>
                                <th class="text-right py-3 text-sm font-medium text-gray-600 dark:text-gray-400">Action</th>
                            </tr>
                        </thead>
                        <tbody id="cryptoTable">
                            <!-- Populated by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- Trading Section -->
    <div id="trading" class="section hidden">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <div class="grid grid-cols-1 lg:grid-cols-4 gap-6">
                <!-- Trading Chart -->
                <div class="lg:col-span-3">
                    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 trading-card">
                        <div class="flex justify-between items-center mb-6">
                            <div class="flex items-center space-x-4">
                                <h2 class="text-2xl font-bold text-gray-900 dark:text-white">BTC/USDT</h2>
                                <div class="flex items-center space-x-2">
                                    <span id="currentPrice" class="text-2xl font-bold text-green-600 dark:text-green-400">$43,567.89</span>
                                    <span id="priceChange" class="text-sm text-green-600 dark:text-green-400">+2.34%</span>
                                </div>
                            </div>
                            <div class="flex space-x-2">
                                <button class="px-3 py-1 text-sm bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded-lg">1m</button>
                                <button class="px-3 py-1 text-sm text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg">5m</button>
                                <button class="px-3 py-1 text-sm text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg">1h</button>
                                <button class="px-3 py-1 text-sm text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg">1d</button>
                            </div>
                        </div>
                        <div class="h-96">
                            <canvas id="tradingChart"></canvas>
                        </div>
                    </div>
                    
                    <!-- Order Book -->
                    <div class="mt-6 bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 trading-card">
                        <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Order Book</h3>
                        <div class="grid grid-cols-2 gap-6">
                            <div>
                                <h4 class="text-sm font-medium text-red-600 dark:text-red-400 mb-2">Sell Orders</h4>
                                <div class="space-y-1" id="sellOrders">
                                    <!-- Populated by JavaScript -->
                                </div>
                            </div>
                            <div>
                                <h4 class="text-sm font-medium text-green-600 dark:text-green-400 mb-2">Buy Orders</h4>
                                <div class="space-y-1" id="buyOrders">
                                    <!-- Populated by JavaScript -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Trading Panel -->
                <div class="space-y-6">
                    <!-- Trading Pair Selector -->
                    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 trading-card">
                        <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Select Trading Pair</h3>
                        <div class="grid grid-cols-2 gap-3 mb-4">
                            <button onclick="switchTradingPair('BTC', 'USDT')" id="pair-BTC-USDT" class="trading-pair-btn active p-3 border-2 border-blue-500 bg-blue-50 dark:bg-blue-900/20 rounded-lg text-center">
                                <div class="flex items-center justify-center space-x-2">
                                    <div class="w-6 h-6 bg-gradient-to-r from-orange-400 to-orange-600 rounded-full flex items-center justify-center">
                                        <span class="text-white text-xs font-bold">B</span>
                                    </div>
                                    <span class="font-medium text-gray-900 dark:text-white">BTC/USDT</span>
                                </div>
                                <p class="text-sm text-gray-600 dark:text-gray-400 mt-1">$43,567.89</p>
                            </button>
                            <button onclick="switchTradingPair('ETH', 'USDT')" id="pair-ETH-USDT" class="trading-pair-btn p-3 border-2 border-gray-200 dark:border-gray-700 hover:border-blue-400 rounded-lg text-center">
                                <div class="flex items-center justify-center space-x-2">
                                    <div class="w-6 h-6 bg-gradient-to-r from-blue-400 to-blue-600 rounded-full flex items-center justify-center">
                                        <span class="text-white text-xs font-bold">E</span>
                                    </div>
                                    <span class="font-medium text-gray-900 dark:text-white">ETH/USDT</span>
                                </div>
                                <p class="text-sm text-gray-600 dark:text-gray-400 mt-1">$2,634.56</p>
                            </button>
                            <button onclick="switchTradingPair('BNB', 'USDT')" id="pair-BNB-USDT" class="trading-pair-btn p-3 border-2 border-gray-200 dark:border-gray-700 hover:border-blue-400 rounded-lg text-center">
                                <div class="flex items-center justify-center space-x-2">
                                    <div class="w-6 h-6 bg-gradient-to-r from-yellow-400 to-yellow-600 rounded-full flex items-center justify-center">
                                        <span class="text-white text-xs font-bold">B</span>
                                    </div>
                                    <span class="font-medium text-gray-900 dark:text-white">BNB/USDT</span>
                                </div>
                                <p class="text-sm text-gray-600 dark:text-gray-400 mt-1">$312.45</p>
                            </button>
                            <button onclick="switchTradingPair('SOL', 'USDT')" id="pair-SOL-USDT" class="trading-pair-btn p-3 border-2 border-gray-200 dark:border-gray-700 hover:border-blue-400 rounded-lg text-center">
                                <div class="flex items-center justify-center space-x-2">
                                    <div class="w-6 h-6 bg-gradient-to-r from-purple-400 to-purple-600 rounded-full flex items-center justify-center">
                                        <span class="text-white text-xs font-bold">S</span>
                                    </div>
                                    <span class="font-medium text-gray-900 dark:text-white">SOL/USDT</span>
                                </div>
                                <p class="text-sm text-gray-600 dark:text-gray-400 mt-1">$98.76</p>
                            </button>
                        </div>
                        <button onclick="showAllPairs()" class="w-full text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 text-sm font-medium py-2">
                            View All Trading Pairs →
                        </button>
                    </div>

                    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 trading-card">
                        <div class="flex space-x-2 mb-6">
                            <button onclick="setTradeType('buy')" id="buyTab" class="flex-1 py-2 text-center bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 rounded-lg font-medium">Buy</button>
                            <button onclick="setTradeType('sell')" id="sellTab" class="flex-1 py-2 text-center text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg font-medium">Sell</button>
                        </div>
                        
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Order Type</label>
                                <select id="orderType" onchange="updateOrderType()" class="w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white">
                                    <option value="market">Market Order</option>
                                    <option value="limit">Limit Order</option>
                                    <option value="stop">Stop Loss</option>
                                    <option value="oco">OCO (One-Cancels-Other)</option>
                                </select>
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Amount (<span id="baseAsset">BTC</span>)</label>
                                <div class="relative">
                                    <input type="number" id="tradeAmount" placeholder="0.00" step="0.00001" min="0" oninput="calculateTradeTotal()" class="w-full p-3 pr-16 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white">
                                    <span class="absolute right-3 top-3 text-sm text-gray-500 dark:text-gray-400" id="baseAssetLabel">BTC</span>
                                </div>
                            </div>
                            
                            <div id="priceSection">
                                <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Price (USDT)</label>
                                <div class="relative">
                                    <input type="number" id="tradePrice" placeholder="43,567.89" step="0.01" min="0" oninput="calculateTradeTotal()" class="w-full p-3 pr-16 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white">
                                    <span class="absolute right-3 top-3 text-sm text-gray-500 dark:text-gray-400">USDT</span>
                                </div>
                            </div>
                            
                            <div class="flex space-x-2">
                                <button onclick="setPercentage(25)" class="flex-1 py-2 text-xs bg-gray-100 dark:bg-gray-700 hover:bg-blue-100 dark:hover:bg-blue-900 text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 rounded transition-colors">25%</button>
                                <button onclick="setPercentage(50)" class="flex-1 py-2 text-xs bg-gray-100 dark:bg-gray-700 hover:bg-blue-100 dark:hover:bg-blue-900 text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 rounded transition-colors">50%</button>
                                <button onclick="setPercentage(75)" class="flex-1 py-2 text-xs bg-gray-100 dark:bg-gray-700 hover:bg-blue-100 dark:hover:bg-blue-900 text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 rounded transition-colors">75%</button>
                                <button onclick="setPercentage(100)" class="flex-1 py-2 text-xs bg-gray-100 dark:bg-gray-700 hover:bg-blue-100 dark:hover:bg-blue-900 text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 rounded transition-colors">100%</button>
                            </div>
                            
                            <!-- Trade Summary -->
                            <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-4 space-y-2">
                                <div class="flex justify-between text-sm">
                                    <span class="text-gray-600 dark:text-gray-400">Total:</span>
                                    <span class="font-medium text-gray-900 dark:text-white" id="tradeTotal">$0.00</span>
                                </div>
                                <div class="flex justify-between text-sm">
                                    <span class="text-gray-600 dark:text-gray-400">Fee (0.1%):</span>
                                    <span class="font-medium text-gray-900 dark:text-white" id="tradeFee">$0.00</span>
                                </div>
                                <div class="flex justify-between text-sm border-t border-gray-200 dark:border-gray-600 pt-2">
                                    <span class="text-gray-600 dark:text-gray-400">Net Total:</span>
                                    <span class="font-bold text-gray-900 dark:text-white" id="netTotal">$0.00</span>
                                </div>
                            </div>
                            
                            <button id="tradeButton" onclick="executeTrade()" class="w-full bg-green-600 hover:bg-green-700 text-white py-3 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed">
                                Buy BTC
                            </button>
                        </div>
                    </div>
                    
                    <!-- Balance -->
                    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 trading-card">
                        <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Balance</h3>
                        <div class="space-y-3">
                            <div class="flex justify-between items-center">
                                <span class="text-sm text-gray-600 dark:text-gray-400">USDT</span>
                                <span class="font-medium text-gray-900 dark:text-white">12,345.67</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-sm text-gray-600 dark:text-gray-400">BTC</span>
                                <span class="font-medium text-gray-900 dark:text-white">0.28456</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-sm text-gray-600 dark:text-gray-400">ETH</span>
                                <span class="font-medium text-gray-900 dark:text-white">5.67891</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Wallet Section -->
    <div id="wallet" class="section hidden">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                <div class="lg:col-span-2 space-y-6">
                    <!-- Wallet Overview -->
                    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 trading-card">
                        <h2 class="text-2xl font-bold text-gray-900 dark:text-white mb-6">Wallet Overview</h2>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
                            <div class="text-center">
                                <p class="text-sm text-gray-600 dark:text-gray-400">Total Balance</p>
                                <p class="text-2xl font-bold text-gray-900 dark:text-white">$24,567.89</p>
                            </div>
                            <div class="text-center">
                                <p class="text-sm text-gray-600 dark:text-gray-400">Available</p>
                                <p class="text-2xl font-bold text-green-600 dark:text-green-400">$18,432.10</p>
                            </div>
                            <div class="text-center">
                                <p class="text-sm text-gray-600 dark:text-gray-400">Locked</p>
                                <p class="text-2xl font-bold text-orange-600 dark:text-orange-400">$6,135.79</p>
                            </div>
                        </div>
                        
                        <!-- Asset List -->
                        <div class="space-y-4">
                            <h3 class="text-lg font-semibold text-gray-900 dark:text-white">Your Assets</h3>
                            <div class="space-y-3" id="assetList">
                                <!-- Populated by JavaScript -->
                            </div>
                        </div>
                    </div>
                    
                    <!-- Transaction History -->
                    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 trading-card">
                        <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Recent Transactions</h3>
                        <div class="space-y-3" id="transactionHistory">
                            <!-- Populated by JavaScript -->
                        </div>
                    </div>
                </div>
                
                <!-- Wallet Actions -->
                <div class="space-y-6">
                    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 trading-card">
                        <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Quick Actions</h3>
                        <div class="space-y-3">
                            <button onclick="showDepositModal()" class="w-full bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-lg font-medium transition-colors">
                                Deposit
                            </button>
                            <button onclick="showWithdrawModal()" class="w-full bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-900 dark:text-white py-3 rounded-lg font-medium transition-colors">
                                Withdraw
                            </button>
                            <button onclick="showTransferModal()" class="w-full bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-900 dark:text-white py-3 rounded-lg font-medium transition-colors">
                                Transfer
                            </button>
                        </div>
                    </div>
                    
                    <!-- Security -->
                    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 trading-card">
                        <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Security</h3>
                        <div class="space-y-4">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="font-medium text-gray-900 dark:text-white">2FA Authentication</p>
                                    <p class="text-sm text-gray-600 dark:text-gray-400">Extra security layer</p>
                                </div>
                                <div class="w-12 h-6 bg-green-500 rounded-full relative">
                                    <div class="w-5 h-5 bg-white rounded-full absolute right-0.5 top-0.5"></div>
                                </div>
                            </div>
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="font-medium text-gray-900 dark:text-white">Biometric Login</p>
                                    <p class="text-sm text-gray-600 dark:text-gray-400">Fingerprint/Face ID</p>
                                </div>
                                <div class="w-12 h-6 bg-green-500 rounded-full relative">
                                    <div class="w-5 h-5 bg-white rounded-full absolute right-0.5 top-0.5"></div>
                                </div>
                            </div>
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="font-medium text-gray-900 dark:text-white">Email Notifications</p>
                                    <p class="text-sm text-gray-600 dark:text-gray-400">Transaction alerts</p>
                                </div>
                                <div class="w-12 h-6 bg-green-500 rounded-full relative">
                                    <div class="w-5 h-5 bg-white rounded-full absolute right-0.5 top-0.5"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- QR Scanner -->
                    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 trading-card">
                        <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">QR Scanner</h3>
                        <div class="text-center">
                            <div class="w-32 h-32 mx-auto mb-4 bg-gray-100 dark:bg-gray-700 rounded-lg flex items-center justify-center">
                                <svg class="w-16 h-16 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M12 12h-.01M12 12v4h1m1 0h.01"></path>
                                </svg>
                            </div>
                            <button class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors">
                                Scan QR Code
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Analytics Section -->
    <div id="analytics" class="section hidden">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                <div class="lg:col-span-2 space-y-6">
                    <!-- Performance Chart -->
                    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 trading-card">
                        <div class="flex justify-between items-center mb-6">
                            <h2 class="text-2xl font-bold text-gray-900 dark:text-white">Portfolio Performance</h2>
                            <div class="flex space-x-2">
                                <button class="px-3 py-1 text-sm bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded-lg">1M</button>
                                <button class="px-3 py-1 text-sm text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg">3M</button>
                                <button class="px-3 py-1 text-sm text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg">1Y</button>
                            </div>
                        </div>
                        <div class="h-80">
                            <canvas id="performanceChart"></canvas>
                        </div>
                    </div>
                    
                    <!-- Technical Indicators -->
                    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 trading-card">
                        <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Technical Indicators</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <h4 class="font-medium text-gray-900 dark:text-white mb-3">RSI (14)</h4>
                                <div class="space-y-2">
                                    <div class="flex justify-between">
                                        <span class="text-sm text-gray-600 dark:text-gray-400">BTC/USDT</span>
                                        <span class="text-sm font-medium text-orange-600 dark:text-orange-400">67.8</span>
                                    </div>
                                    <div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2">
                                        <div class="bg-orange-500 h-2 rounded-full" style="width: 67.8%"></div>
                                    </div>
                                </div>
                            </div>
                            <div>
                                <h4 class="font-medium text-gray-900 dark:text-white mb-3">MACD</h4>
                                <div class="space-y-2">
                                    <div class="flex justify-between">
                                        <span class="text-sm text-gray-600 dark:text-gray-400">Signal</span>
                                        <span class="text-sm font-medium text-green-600 dark:text-green-400">Bullish</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-sm text-gray-600 dark:text-gray-400">Histogram</span>
                                        <span class="text-sm font-medium text-gray-900 dark:text-white">+234.56</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Watchlist & Alerts -->
                <div class="space-y-6">
                    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 trading-card">
                        <div class="flex justify-between items-center mb-4">
                            <h3 class="text-lg font-semibold text-gray-900 dark:text-white">Watchlist</h3>
                            <button onclick="addToWatchlist()" class="text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                                </svg>
                            </button>
                        </div>
                        <div class="space-y-3" id="watchlist">
                            <!-- Populated by JavaScript -->
                        </div>
                    </div>
                    
                    <!-- Price Alerts -->
                    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 trading-card">
                        <div class="flex justify-between items-center mb-4">
                            <h3 class="text-lg font-semibold text-gray-900 dark:text-white">Price Alerts</h3>
                            <button onclick="createAlert()" class="text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-5 5v-5z"></path>
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 7h6l-6-6v6z"></path>
                                </svg>
                            </button>
                        </div>
                        <div class="space-y-3" id="alertsList">
                            <!-- Populated by JavaScript -->
                        </div>
                    </div>
                    
                    <!-- Market Insights -->
                    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 trading-card">
                        <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Market Insights</h3>
                        <div class="space-y-4">
                            <div class="p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg">
                                <p class="text-sm font-medium text-blue-800 dark:text-blue-200">Bitcoin showing strong support at $42,000</p>
                                <p class="text-xs text-blue-600 dark:text-blue-400 mt-1">2 hours ago</p>
                            </div>
                            <div class="p-3 bg-green-50 dark:bg-green-900/20 rounded-lg">
                                <p class="text-sm font-medium text-green-800 dark:text-green-200">Ethereum breaking resistance levels</p>
                                <p class="text-xs text-green-600 dark:text-green-400 mt-1">4 hours ago</p>
                            </div>
                            <div class="p-3 bg-orange-50 dark:bg-orange-900/20 rounded-lg">
                                <p class="text-sm font-medium text-orange-800 dark:text-orange-200">High volatility expected this week</p>
                                <p class="text-xs text-orange-600 dark:text-orange-400 mt-1">1 day ago</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Market Section -->
    <div id="market" class="section hidden">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <div class="grid grid-cols-1 lg:grid-cols-4 gap-6">
                <!-- Market Categories & List -->
                <div class="lg:col-span-2">
                    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 trading-card">
                        <div class="flex justify-between items-center mb-6">
                            <h2 class="text-2xl font-bold text-gray-900 dark:text-white">Cryptocurrency Market</h2>
                            <div class="flex items-center space-x-2">
                                <input type="text" placeholder="Search coins..." class="px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm" id="searchInput">
                                <button class="p-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                                    </svg>
                                </button>
                            </div>
                        </div>
                        
                        <!-- Market Categories -->
                        <div class="flex space-x-2 mb-6 overflow-x-auto">
                            <button onclick="filterMarket('all')" class="market-filter-btn active px-4 py-2 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded-lg font-medium whitespace-nowrap">All</button>
                            <button onclick="filterMarket('hot')" class="market-filter-btn px-4 py-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg font-medium whitespace-nowrap">🔥 Hot</button>
                            <button onclick="filterMarket('favorites')" class="market-filter-btn px-4 py-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg font-medium whitespace-nowrap">⭐ Favorites</button>
                            <button onclick="filterMarket('gainers')" class="market-filter-btn px-4 py-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg font-medium whitespace-nowrap">📈 Gainers</button>
                            <button onclick="filterMarket('losers')" class="market-filter-btn px-4 py-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg font-medium whitespace-nowrap">📉 Losers</button>
                        </div>
                        
                        <!-- Market Table -->
                        <div class="overflow-x-auto">
                            <table class="w-full">
                                <thead>
                                    <tr class="border-b border-gray-200 dark:border-gray-700">
                                        <th class="text-left py-3 text-sm font-medium text-gray-600 dark:text-gray-400">#</th>
                                        <th class="text-left py-3 text-sm font-medium text-gray-600 dark:text-gray-400">Name</th>
                                        <th class="text-right py-3 text-sm font-medium text-gray-600 dark:text-gray-400">Price</th>
                                        <th class="text-right py-3 text-sm font-medium text-gray-600 dark:text-gray-400">24h %</th>
                                        <th class="text-right py-3 text-sm font-medium text-gray-600 dark:text-gray-400">7d %</th>
                                        <th class="text-right py-3 text-sm font-medium text-gray-600 dark:text-gray-400">Market Cap</th>
                                        <th class="text-right py-3 text-sm font-medium text-gray-600 dark:text-gray-400">Volume</th>
                                        <th class="text-right py-3 text-sm font-medium text-gray-600 dark:text-gray-400">Action</th>
                                    </tr>
                                </thead>
                                <tbody id="marketTable">
                                    <!-- Populated by JavaScript -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                
                <!-- Selected Coin Chart -->
                <div class="lg:col-span-2">
                    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 trading-card">
                        <div class="flex justify-between items-center mb-6">
                            <div class="flex items-center space-x-4">
                                <div class="flex items-center space-x-2">
                                    <div id="selectedCoinIcon" class="w-8 h-8 bg-gradient-to-r from-orange-400 to-orange-600 rounded-full flex items-center justify-center">
                                        <span class="text-white font-bold text-sm">B</span>
                                    </div>
                                    <div>
                                        <h3 id="selectedCoinName" class="text-xl font-bold text-gray-900 dark:text-white">Bitcoin</h3>
                                        <p id="selectedCoinSymbol" class="text-sm text-gray-600 dark:text-gray-400">BTC</p>
                                    </div>
                                </div>
                                <div class="text-right">
                                    <p id="selectedCoinPrice" class="text-2xl font-bold text-gray-900 dark:text-white">$43,567.89</p>
                                    <p id="selectedCoinChange" class="text-sm text-green-600 dark:text-green-400">+2.34% (24h)</p>
                                </div>
                            </div>
                            <div class="flex space-x-2">
                                <button onclick="addToFavorites()" class="p-2 text-gray-400 hover:text-yellow-500 transition-colors">
                                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"></path>
                                    </svg>
                                </button>
                                <button onclick="startTrading()" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors">
                                    Trade
                                </button>
                            </div>
                        </div>
                        
                        <!-- Chart Time Intervals -->
                        <div class="flex space-x-2 mb-4">
                            <button onclick="updateChartInterval('1m')" class="chart-interval-btn active px-3 py-1 text-sm bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded-lg">1m</button>
                            <button onclick="updateChartInterval('5m')" class="chart-interval-btn px-3 py-1 text-sm text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg">5m</button>
                            <button onclick="updateChartInterval('15m')" class="chart-interval-btn px-3 py-1 text-sm text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg">15m</button>
                            <button onclick="updateChartInterval('1h')" class="chart-interval-btn px-3 py-1 text-sm text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg">1h</button>
                            <button onclick="updateChartInterval('4h')" class="chart-interval-btn px-3 py-1 text-sm text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg">4h</button>
                            <button onclick="updateChartInterval('1d')" class="chart-interval-btn px-3 py-1 text-sm text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg">1d</button>
                        </div>
                        
                        <!-- Candlestick Chart -->
                        <div class="h-96">
                            <canvas id="candlestickChart"></canvas>
                        </div>
                        
                        <!-- Coin Stats -->
                        <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mt-6 pt-6 border-t border-gray-200 dark:border-gray-700">
                            <div class="text-center">
                                <p class="text-sm text-gray-600 dark:text-gray-400">Market Cap</p>
                                <p id="selectedCoinMarketCap" class="font-semibold text-gray-900 dark:text-white">$854.2B</p>
                            </div>
                            <div class="text-center">
                                <p class="text-sm text-gray-600 dark:text-gray-400">24h Volume</p>
                                <p id="selectedCoinVolume" class="font-semibold text-gray-900 dark:text-white">$28.4B</p>
                            </div>
                            <div class="text-center">
                                <p class="text-sm text-gray-600 dark:text-gray-400">Circulating Supply</p>
                                <p id="selectedCoinSupply" class="font-semibold text-gray-900 dark:text-white">19.6M BTC</p>
                            </div>
                            <div class="text-center">
                                <p class="text-sm text-gray-600 dark:text-gray-400">All Time High</p>
                                <p id="selectedCoinATH" class="font-semibold text-gray-900 dark:text-white">$69,045</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Learn Section -->
    <div id="learn" class="section hidden">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <div class="text-center mb-8">
                <h1 class="text-3xl font-bold text-gray-900 dark:text-white mb-4">Learn Crypto Trading</h1>
                <p class="text-lg text-gray-600 dark:text-gray-400">Master cryptocurrency trading with our comprehensive learning platform</p>
            </div>
            
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                <!-- Demo Trading -->
                <div class="lg:col-span-2">
                    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 trading-card mb-6">
                        <div class="flex items-center justify-between mb-6">
                            <h2 class="text-2xl font-bold text-gray-900 dark:text-white">Demo Trading Simulator</h2>
                            <div class="flex items-center space-x-2 bg-green-100 dark:bg-green-900 px-3 py-1 rounded-full">
                                <div class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></div>
                                <span class="text-sm font-medium text-green-800 dark:text-green-200">Virtual Funds: $100,000</span>
                            </div>
                        </div>
                        
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                            <div class="text-center p-4 bg-gray-50 dark:bg-gray-700 rounded-lg">
                                <p class="text-sm text-gray-600 dark:text-gray-400">Portfolio Value</p>
                                <p class="text-xl font-bold text-gray-900 dark:text-white">$98,567.43</p>
                                <p class="text-sm text-red-600 dark:text-red-400">-1.43%</p>
                            </div>
                            <div class="text-center p-4 bg-gray-50 dark:bg-gray-700 rounded-lg">
                                <p class="text-sm text-gray-600 dark:text-gray-400">Total Trades</p>
                                <p class="text-xl font-bold text-gray-900 dark:text-white">47</p>
                                <p class="text-sm text-green-600 dark:text-green-400">+12 this week</p>
                            </div>
                            <div class="text-center p-4 bg-gray-50 dark:bg-gray-700 rounded-lg">
                                <p class="text-sm text-gray-600 dark:text-gray-400">Win Rate</p>
                                <p class="text-xl font-bold text-gray-900 dark:text-white">68.1%</p>
                                <p class="text-sm text-blue-600 dark:text-blue-400">Above average</p>
                            </div>
                        </div>
                        
                        <div class="flex space-x-4">
                            <button onclick="startDemoTrade()" class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium transition-colors">
                                Start Demo Trade
                            </button>
                            <button onclick="resetDemo()" class="bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-900 dark:text-white px-6 py-3 rounded-lg font-medium transition-colors">
                                Reset Portfolio
                            </button>
                        </div>
                    </div>
                    
                    <!-- Learning Modules -->
                    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 trading-card">
                        <h3 class="text-xl font-bold text-gray-900 dark:text-white mb-6">Learning Modules</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div class="p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:border-blue-500 dark:hover:border-blue-400 transition-colors cursor-pointer">
                                <div class="flex items-center space-x-3 mb-2">
                                    <div class="w-8 h-8 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center">
                                        <svg class="w-4 h-4 text-green-600 dark:text-green-400" fill="currentColor" viewBox="0 0 20 20">
                                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                                        </svg>
                                    </div>
                                    <h4 class="font-semibold text-gray-900 dark:text-white">Crypto Basics</h4>
                                </div>
                                <p class="text-sm text-gray-600 dark:text-gray-400 mb-2">Learn the fundamentals of cryptocurrency and blockchain technology.</p>
                                <div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2">
                                    <div class="bg-green-500 h-2 rounded-full" style="width: 100%"></div>
                                </div>
                                <p class="text-xs text-gray-500 dark:text-gray-400 mt-1">Completed</p>
                            </div>
                            
                            <div class="p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:border-blue-500 dark:hover:border-blue-400 transition-colors cursor-pointer">
                                <div class="flex items-center space-x-3 mb-2">
                                    <div class="w-8 h-8 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center">
                                        <span class="text-blue-600 dark:text-blue-400 font-bold text-sm">2</span>
                                    </div>
                                    <h4 class="font-semibold text-gray-900 dark:text-white">Technical Analysis</h4>
                                </div>
                                <p class="text-sm text-gray-600 dark:text-gray-400 mb-2">Master chart patterns, indicators, and trading strategies.</p>
                                <div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2">
                                    <div class="bg-blue-500 h-2 rounded-full" style="width: 65%"></div>
                                </div>
                                <p class="text-xs text-gray-500 dark:text-gray-400 mt-1">65% Complete</p>
                            </div>
                            
                            <div class="p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:border-blue-500 dark:hover:border-blue-400 transition-colors cursor-pointer">
                                <div class="flex items-center space-x-3 mb-2">
                                    <div class="w-8 h-8 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center">
                                        <span class="text-gray-600 dark:text-gray-400 font-bold text-sm">3</span>
                                    </div>
                                    <h4 class="font-semibold text-gray-900 dark:text-white">Risk Management</h4>
                                </div>
                                <p class="text-sm text-gray-600 dark:text-gray-400 mb-2">Learn to protect your capital and manage trading risks.</p>
                                <div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2">
                                    <div class="bg-gray-400 h-2 rounded-full" style="width: 0%"></div>
                                </div>
                                <p class="text-xs text-gray-500 dark:text-gray-400 mt-1">Not Started</p>
                            </div>
                            
                            <div class="p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:border-blue-500 dark:hover:border-blue-400 transition-colors cursor-pointer">
                                <div class="flex items-center space-x-3 mb-2">
                                    <div class="w-8 h-8 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center">
                                        <span class="text-gray-600 dark:text-gray-400 font-bold text-sm">4</span>
                                    </div>
                                    <h4 class="font-semibold text-gray-900 dark:text-white">Advanced Strategies</h4>
                                </div>
                                <p class="text-sm text-gray-600 dark:text-gray-400 mb-2">Explore advanced trading techniques and market psychology.</p>
                                <div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2">
                                    <div class="bg-gray-400 h-2 rounded-full" style="width: 0%"></div>
                                </div>
                                <p class="text-xs text-gray-500 dark:text-gray-400 mt-1">Locked</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Learning Resources -->
                <div class="space-y-6">
                    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 trading-card">
                        <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Quick Tips</h3>
                        <div class="space-y-4">
                            <div class="p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg">
                                <h4 class="font-medium text-blue-800 dark:text-blue-200 mb-1">💡 Tip of the Day</h4>
                                <p class="text-sm text-blue-700 dark:text-blue-300">Never invest more than you can afford to lose. Start small and gradually increase your position sizes.</p>
                            </div>
                            <div class="p-3 bg-green-50 dark:bg-green-900/20 rounded-lg">
                                <h4 class="font-medium text-green-800 dark:text-green-200 mb-1">📈 Market Insight</h4>
                                <p class="text-sm text-green-700 dark:text-green-300">Dollar-cost averaging can help reduce the impact of volatility on your investments.</p>
                            </div>
                            <div class="p-3 bg-purple-50 dark:bg-purple-900/20 rounded-lg">
                                <h4 class="font-medium text-purple-800 dark:text-purple-200 mb-1">🎯 Strategy Focus</h4>
                                <p class="text-sm text-purple-700 dark:text-purple-300">Set clear entry and exit points before making any trade to avoid emotional decisions.</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 trading-card">
                        <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Learning Progress</h3>
                        <div class="space-y-4">
                            <div>
                                <div class="flex justify-between mb-2">
                                    <span class="text-sm font-medium text-gray-700 dark:text-gray-300">Overall Progress</span>
                                    <span class="text-sm text-gray-600 dark:text-gray-400">41%</span>
                                </div>
                                <div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2">
                                    <div class="bg-blue-500 h-2 rounded-full" style="width: 41%"></div>
                                </div>
                            </div>
                            <div class="grid grid-cols-2 gap-4 pt-2">
                                <div class="text-center">
                                    <p class="text-2xl font-bold text-gray-900 dark:text-white">12</p>
                                    <p class="text-sm text-gray-600 dark:text-gray-400">Lessons Completed</p>
                                </div>
                                <div class="text-center">
                                    <p class="text-2xl font-bold text-gray-900 dark:text-white">3.2h</p>
                                    <p class="text-sm text-gray-600 dark:text-gray-400">Time Spent</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 trading-card">
                        <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Achievements</h3>
                        <div class="space-y-3">
                            <div class="flex items-center space-x-3">
                                <div class="w-8 h-8 bg-yellow-100 dark:bg-yellow-900 rounded-full flex items-center justify-center">
                                    <span class="text-yellow-600 dark:text-yellow-400">🏆</span>
                                </div>
                                <div>
                                    <p class="font-medium text-gray-900 dark:text-white">First Trade</p>
                                    <p class="text-sm text-gray-600 dark:text-gray-400">Completed your first demo trade</p>
                                </div>
                            </div>
                            <div class="flex items-center space-x-3">
                                <div class="w-8 h-8 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center">
                                    <span class="text-blue-600 dark:text-blue-400">📚</span>
                                </div>
                                <div>
                                    <p class="font-medium text-gray-900 dark:text-white">Knowledge Seeker</p>
                                    <p class="text-sm text-gray-600 dark:text-gray-400">Completed 10 lessons</p>
                                </div>
                            </div>
                            <div class="flex items-center space-x-3 opacity-50">
                                <div class="w-8 h-8 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center">
                                    <span class="text-gray-400">🎯</span>
                                </div>
                                <div>
                                    <p class="font-medium text-gray-500 dark:text-gray-400">Profit Master</p>
                                    <p class="text-sm text-gray-400">Make 10 profitable trades</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- P2P Trading Section -->
    <div id="p2p" class="section hidden">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <!-- P2P Header -->
            <div class="text-center mb-8">
                <h1 class="text-3xl font-bold text-gray-900 dark:text-white mb-4">P2P Trading</h1>
                <p class="text-lg text-gray-600 dark:text-gray-400">Trade directly with other users at your preferred price</p>
            </div>

            <!-- P2P Stats -->
            <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
                <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 trading-card text-center">
                    <div class="w-12 h-12 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center mx-auto mb-3">
                        <svg class="w-6 h-6 text-blue-600 dark:text-blue-400" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3z"></path>
                        </svg>
                    </div>
                    <p class="text-2xl font-bold text-gray-900 dark:text-white">2,847</p>
                    <p class="text-sm text-gray-600 dark:text-gray-400">Active Traders</p>
                </div>
                <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 trading-card text-center">
                    <div class="w-12 h-12 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center mx-auto mb-3">
                        <svg class="w-6 h-6 text-green-600 dark:text-green-400" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M4 4a2 2 0 00-2 2v4a2 2 0 002 2V6h10a2 2 0 00-2-2H4zm2 6a2 2 0 012-2h8a2 2 0 012 2v4a2 2 0 01-2 2H8a2 2 0 01-2-2v-4zm6 4a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd"></path>
                        </svg>
                    </div>
                    <p class="text-2xl font-bold text-gray-900 dark:text-white">$1.2M</p>
                    <p class="text-sm text-gray-600 dark:text-gray-400">24h Volume</p>
                </div>
                <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 trading-card text-center">
                    <div class="w-12 h-12 bg-purple-100 dark:bg-purple-900 rounded-full flex items-center justify-center mx-auto mb-3">
                        <svg class="w-6 h-6 text-purple-600 dark:text-purple-400" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                        </svg>
                    </div>
                    <p class="text-2xl font-bold text-gray-900 dark:text-white">98.7%</p>
                    <p class="text-sm text-gray-600 dark:text-gray-400">Success Rate</p>
                </div>
                <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 trading-card text-center">
                    <div class="w-12 h-12 bg-orange-100 dark:bg-orange-900 rounded-full flex items-center justify-center mx-auto mb-3">
                        <svg class="w-6 h-6 text-orange-600 dark:text-orange-400" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                        </svg>
                    </div>
                    <p class="text-2xl font-bold text-gray-900 dark:text-white">3.2min</p>
                    <p class="text-sm text-gray-600 dark:text-gray-400">Avg. Trade Time</p>
                </div>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                <!-- P2P Trading Interface -->
                <div class="lg:col-span-2">
                    <!-- Trade Type Selector -->
                    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 trading-card mb-6">
                        <div class="flex space-x-2 mb-6">
                            <button onclick="setP2PTradeType('buy')" id="p2pBuyTab" class="flex-1 py-3 text-center bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 rounded-lg font-medium">Buy Crypto</button>
                            <button onclick="setP2PTradeType('sell')" id="p2pSellTab" class="flex-1 py-3 text-center text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg font-medium">Sell Crypto</button>
                        </div>

                        <!-- Currency and Payment Method Filters -->
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Cryptocurrency</label>
                                <select id="p2pCrypto" onchange="filterP2POffers()" class="w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white">
                                    <option value="BTC">Bitcoin (BTC)</option>
                                    <option value="ETH">Ethereum (ETH)</option>
                                    <option value="USDT">Tether (USDT)</option>
                                    <option value="BNB">BNB (BNB)</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Fiat Currency</label>
                                <select id="p2pFiat" onchange="filterP2POffers()" class="w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white">
                                    <option value="USD">US Dollar (USD)</option>
                                    <option value="EUR">Euro (EUR)</option>
                                    <option value="GBP">British Pound (GBP)</option>
                                    <option value="JPY">Japanese Yen (JPY)</option>
                                    <option value="CAD">Canadian Dollar (CAD)</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Payment Method</label>
                                <select id="p2pPayment" onchange="filterP2POffers()" class="w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white">
                                    <option value="">All Methods</option>
                                    <option value="bank">Bank Transfer</option>
                                    <option value="paypal">PayPal</option>
                                    <option value="wise">Wise</option>
                                    <option value="revolut">Revolut</option>
                                    <option value="cash">Cash</option>
                                </select>
                            </div>
                        </div>

                        <!-- Amount Filter -->
                        <div class="grid grid-cols-2 gap-4 mb-6">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Min Amount</label>
                                <input type="number" id="p2pMinAmount" placeholder="0" class="w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white" oninput="filterP2POffers()">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Max Amount</label>
                                <input type="number" id="p2pMaxAmount" placeholder="10000" class="w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white" oninput="filterP2POffers()">
                            </div>
                        </div>
                    </div>

                    <!-- P2P Offers List -->
                    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 trading-card">
                        <div class="flex justify-between items-center mb-6">
                            <h3 class="text-xl font-bold text-gray-900 dark:text-white">Available Offers</h3>
                            <button onclick="createP2POffer()" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors">
                                Create Offer
                            </button>
                        </div>

                        <!-- Offers Table Header -->
                        <div class="hidden md:grid grid-cols-6 gap-4 pb-3 border-b border-gray-200 dark:border-gray-700 text-sm font-medium text-gray-600 dark:text-gray-400">
                            <div>Trader</div>
                            <div>Price</div>
                            <div>Limits</div>
                            <div>Payment</div>
                            <div>Completion</div>
                            <div>Action</div>
                        </div>

                        <!-- Offers List -->
                        <div id="p2pOffersList" class="space-y-4 mt-4">
                            <!-- Populated by JavaScript -->
                        </div>
                    </div>
                </div>

                <!-- P2P Sidebar -->
                <div class="space-y-6">
                    <!-- Quick Trade Calculator -->
                    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 trading-card">
                        <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Quick Calculator</h3>
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">I want to <span id="p2pCalculatorAction">buy</span></label>
                                <div class="relative">
                                    <input type="number" id="p2pCalculatorAmount" placeholder="0.1" step="0.001" class="w-full p-3 pr-16 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white" oninput="calculateP2PTotal()">
                                    <span class="absolute right-3 top-3 text-sm text-gray-500 dark:text-gray-400" id="p2pCalculatorCrypto">BTC</span>
                                </div>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Estimated Total</label>
                                <div class="p-3 bg-gray-50 dark:bg-gray-700 rounded-lg">
                                    <span class="text-lg font-bold text-gray-900 dark:text-white" id="p2pCalculatorTotal">$0.00</span>
                                </div>
                            </div>
                            <div class="text-xs text-gray-500 dark:text-gray-400">
                                * Prices may vary between offers
                            </div>
                        </div>
                    </div>

                    <!-- My P2P Activity -->
                    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 trading-card">
                        <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">My P2P Activity</h3>
                        <div class="space-y-4">
                            <div class="flex justify-between items-center">
                                <span class="text-sm text-gray-600 dark:text-gray-400">Active Orders</span>
                                <span class="font-medium text-gray-900 dark:text-white">2</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-sm text-gray-600 dark:text-gray-400">Completed Trades</span>
                                <span class="font-medium text-gray-900 dark:text-white">47</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-sm text-gray-600 dark:text-gray-400">Success Rate</span>
                                <span class="font-medium text-green-600 dark:text-green-400">98.9%</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-sm text-gray-600 dark:text-gray-400">Avg. Release Time</span>
                                <span class="font-medium text-gray-900 dark:text-white">2.1 min</span>
                            </div>
                        </div>
                        <button onclick="showP2PHistory()" class="w-full mt-4 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-900 dark:text-white py-2 rounded-lg font-medium transition-colors">
                            View History
                        </button>
                    </div>

                    <!-- P2P Tips -->
                    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 trading-card">
                        <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">P2P Trading Tips</h3>
                        <div class="space-y-3">
                            <div class="p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg">
                                <p class="text-sm font-medium text-blue-800 dark:text-blue-200 mb-1">🛡️ Safety First</p>
                                <p class="text-xs text-blue-700 dark:text-blue-300">Only trade with verified users and use escrow protection</p>
                            </div>
                            <div class="p-3 bg-green-50 dark:bg-green-900/20 rounded-lg">
                                <p class="text-sm font-medium text-green-800 dark:text-green-200 mb-1">💬 Communication</p>
                                <p class="text-xs text-green-700 dark:text-green-300">Keep all communication within the platform</p>
                            </div>
                            <div class="p-3 bg-orange-50 dark:bg-orange-900/20 rounded-lg">
                                <p class="text-sm font-medium text-orange-800 dark:text-orange-200 mb-1">⏱️ Be Prompt</p>
                                <p class="text-xs text-orange-700 dark:text-orange-300">Complete payments within the specified time limit</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Verification Section -->
    <div id="verification" class="section hidden">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <div class="text-center mb-8">
                <h1 class="text-3xl font-bold text-gray-900 dark:text-white mb-4">Identity Verification</h1>
                <p class="text-lg text-gray-600 dark:text-gray-400">Complete your identity verification to unlock all features and increase your trading limits</p>
            </div>

            <!-- Verification Progress -->
            <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 trading-card mb-8">
                <div class="flex items-center justify-between mb-6">
                    <h2 class="text-xl font-bold text-gray-900 dark:text-white">Verification Progress</h2>
                    <div class="flex items-center space-x-2">
                        <div class="w-3 h-3 bg-green-500 rounded-full"></div>
                        <span class="text-sm font-medium text-green-600 dark:text-green-400">Step 1 of 3</span>
                    </div>
                </div>
                
                <div class="flex items-center space-x-4 mb-6">
                    <div class="flex items-center space-x-2">
                        <div class="w-8 h-8 bg-green-500 rounded-full flex items-center justify-center">
                            <svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                        <span class="text-sm font-medium text-gray-900 dark:text-white">Personal Info</span>
                    </div>
                    <div class="flex-1 h-1 bg-gray-200 dark:bg-gray-700 rounded">
                        <div class="h-1 bg-blue-500 rounded" style="width: 33%"></div>
                    </div>
                    <div class="flex items-center space-x-2">
                        <div class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center">
                            <span class="text-white font-bold text-sm">2</span>
                        </div>
                        <span class="text-sm font-medium text-blue-600 dark:text-blue-400">Document Upload</span>
                    </div>
                    <div class="flex-1 h-1 bg-gray-200 dark:bg-gray-700 rounded"></div>
                    <div class="flex items-center space-x-2">
                        <div class="w-8 h-8 bg-gray-300 dark:bg-gray-600 rounded-full flex items-center justify-center">
                            <span class="text-gray-600 dark:text-gray-400 font-bold text-sm">3</span>
                        </div>
                        <span class="text-sm font-medium text-gray-600 dark:text-gray-400">Biometric Verification</span>
                    </div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <div class="text-center p-4 bg-green-50 dark:bg-green-900/20 rounded-lg">
                        <div class="w-12 h-12 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-2">
                            <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                        <p class="font-medium text-green-800 dark:text-green-200">Personal Information</p>
                        <p class="text-sm text-green-600 dark:text-green-400">Completed</p>
                    </div>
                    <div class="text-center p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg">
                        <div class="w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center mx-auto mb-2">
                            <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M4 4a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                        <p class="font-medium text-blue-800 dark:text-blue-200">Document Upload</p>
                        <p class="text-sm text-blue-600 dark:text-blue-400">In Progress</p>
                    </div>
                    <div class="text-center p-4 bg-gray-50 dark:bg-gray-700 rounded-lg">
                        <div class="w-12 h-12 bg-gray-300 dark:bg-gray-600 rounded-full flex items-center justify-center mx-auto mb-2">
                            <svg class="w-6 h-6 text-gray-600 dark:text-gray-400" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M18 8a6 6 0 01-7.743 5.743L10 14l-0.257-0.257A6 6 0 1118 8zM10 2a8 8 0 100 16 8 8 0 000-16zm1 11a1 1 0 11-2 0 1 1 0 012 0zm-1-8a3 3 0 00-3 3v1a1 1 0 002 0V8a1 1 0 112 0v5a1 1 0 002 0V8a3 3 0 00-3-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                        <p class="font-medium text-gray-600 dark:text-gray-400">Biometric Verification</p>
                        <p class="text-sm text-gray-500 dark:text-gray-500">Pending</p>
                    </div>
                </div>
            </div>

            <!-- Document Selection -->
            <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 trading-card mb-8">
                <h2 class="text-xl font-bold text-gray-900 dark:text-white mb-6">Select Document Type</h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                    <div onclick="selectDocumentType('id')" class="verification-step cursor-pointer p-6 border-2 border-gray-200 dark:border-gray-700 rounded-xl text-center hover:border-blue-500 dark:hover:border-blue-400 transition-all" id="idCard">
                        <div class="w-16 h-16 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center mx-auto mb-4">
                            <svg class="w-8 h-8 text-blue-600 dark:text-blue-400" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 2a4 4 0 00-4 4v1H5a1 1 0 00-.994.89l-1 9A1 1 0 004 18h12a1 1 0 00.994-1.11l-1-9A1 1 0 0015 7h-1V6a4 4 0 00-4-4zM8 6a2 2 0 114 0v1H8V6zM6 9a1 1 0 012 0v6a1 1 0 11-2 0V9zm8 0a1 1 0 10-2 0v6a1 1 0 102 0V9z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                        <h3 class="font-semibold text-gray-900 dark:text-white mb-2">National ID Card</h3>
                        <p class="text-sm text-gray-600 dark:text-gray-400">Government-issued ID card with photo</p>
                        <div class="mt-4 text-xs text-blue-600 dark:text-blue-400">
                            ✓ Front & Back required
                        </div>
                    </div>
                    
                    <div onclick="selectDocumentType('passport')" class="verification-step cursor-pointer p-6 border-2 border-gray-200 dark:border-gray-700 rounded-xl text-center hover:border-blue-500 dark:hover:border-blue-400 transition-all" id="passport">
                        <div class="w-16 h-16 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center mx-auto mb-4">
                            <svg class="w-8 h-8 text-green-600 dark:text-green-400" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M6 2a2 2 0 00-2 2v12a2 2 0 002 2h8a2 2 0 002-2V4a2 2 0 00-2-2H6zm1 2a1 1 0 000 2h6a1 1 0 100-2H7zm6 7a1 1 0 01-1 1H8a1 1 0 110-2h4a1 1 0 011 1zm-1 3a1 1 0 100 2H8a1 1 0 100-2h4z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                        <h3 class="font-semibold text-gray-900 dark:text-white mb-2">Passport</h3>
                        <p class="text-sm text-gray-600 dark:text-gray-400">International passport with photo page</p>
                        <div class="mt-4 text-xs text-green-600 dark:text-green-400">
                            ✓ Photo page only
                        </div>
                    </div>
                    
                    <div onclick="selectDocumentType('license')" class="verification-step cursor-pointer p-6 border-2 border-gray-200 dark:border-gray-700 rounded-xl text-center hover:border-blue-500 dark:hover:border-blue-400 transition-all" id="license">
                        <div class="w-16 h-16 bg-purple-100 dark:bg-purple-900 rounded-full flex items-center justify-center mx-auto mb-4">
                            <svg class="w-8 h-8 text-purple-600 dark:text-purple-400" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M18 3a1 1 0 00-1.447-.894L8.763 6H5a3 3 0 000 6h.28l1.771 5.316A1 1 0 008 18h1a1 1 0 001-1v-4.382l6.553 3.276A1 1 0 0018 15V3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                        <h3 class="font-semibold text-gray-900 dark:text-white mb-2">Driver's License</h3>
                        <p class="text-sm text-gray-600 dark:text-gray-400">Valid driver's license with photo</p>
                        <div class="mt-4 text-xs text-purple-600 dark:text-purple-400">
                            ✓ Front & Back required
                        </div>
                    </div>
                </div>
            </div>

            <!-- Document Upload Section -->
            <div id="documentUpload" class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 trading-card mb-8 hidden">
                <h2 class="text-xl font-bold text-gray-900 dark:text-white mb-6">Upload Document</h2>
                
                <!-- ID Card Upload (Front & Back) -->
                <div id="idUpload" class="hidden">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                        <div>
                            <h3 class="font-semibold text-gray-900 dark:text-white mb-4">Front Side</h3>
                            <div class="upload-area p-8 rounded-xl text-center cursor-pointer" onclick="document.getElementById('idFront').click()">
                                <div class="w-16 h-16 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center mx-auto mb-4">
                                    <svg class="w-8 h-8 text-blue-600 dark:text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path>
                                    </svg>
                                </div>
                                <p class="text-gray-600 dark:text-gray-400 mb-2">Click to upload front side</p>
                                <p class="text-sm text-gray-500 dark:text-gray-500">PNG, JPG up to 10MB</p>
                                <input type="file" id="idFront" class="hidden" accept="image/*" onchange="handleFileUpload(this, 'idFrontPreview')">
                            </div>
                            <div id="idFrontPreview" class="mt-4 hidden">
                                <img class="w-full h-48 object-cover rounded-lg border-2 border-green-500">
                                <p class="text-sm text-green-600 dark:text-green-400 mt-2">✓ Front side uploaded successfully</p>
                            </div>
                        </div>
                        
                        <div>
                            <h3 class="font-semibold text-gray-900 dark:text-white mb-4">Back Side</h3>
                            <div class="upload-area p-8 rounded-xl text-center cursor-pointer" onclick="document.getElementById('idBack').click()">
                                <div class="w-16 h-16 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center mx-auto mb-4">
                                    <svg class="w-8 h-8 text-blue-600 dark:text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path>
                                    </svg>
                                </div>
                                <p class="text-gray-600 dark:text-gray-400 mb-2">Click to upload back side</p>
                                <p class="text-sm text-gray-500 dark:text-gray-500">PNG, JPG up to 10MB</p>
                                <input type="file" id="idBack" class="hidden" accept="image/*" onchange="handleFileUpload(this, 'idBackPreview')">
                            </div>
                            <div id="idBackPreview" class="mt-4 hidden">
                                <img class="w-full h-48 object-cover rounded-lg border-2 border-green-500">
                                <p class="text-sm text-green-600 dark:text-green-400 mt-2">✓ Back side uploaded successfully</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Passport Upload -->
                <div id="passportUpload" class="hidden">
                    <div class="max-w-md mx-auto">
                        <h3 class="font-semibold text-gray-900 dark:text-white mb-4 text-center">Passport Photo Page</h3>
                        <div class="upload-area p-8 rounded-xl text-center cursor-pointer" onclick="document.getElementById('passportFile').click()">
                            <div class="w-16 h-16 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center mx-auto mb-4">
                                <svg class="w-8 h-8 text-green-600 dark:text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path>
                                </svg>
                            </div>
                            <p class="text-gray-600 dark:text-gray-400 mb-2">Click to upload passport photo page</p>
                            <p class="text-sm text-gray-500 dark:text-gray-500">PNG, JPG up to 10MB</p>
                            <input type="file" id="passportFile" class="hidden" accept="image/*" onchange="handleFileUpload(this, 'passportPreview')">
                        </div>
                        <div id="passportPreview" class="mt-4 hidden">
                            <img class="w-full h-64 object-cover rounded-lg border-2 border-green-500">
                            <p class="text-sm text-green-600 dark:text-green-400 mt-2 text-center">✓ Passport uploaded successfully</p>
                        </div>
                    </div>
                </div>

                <!-- License Upload -->
                <div id="licenseUpload" class="hidden">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                        <div>
                            <h3 class="font-semibold text-gray-900 dark:text-white mb-4">Front Side</h3>
                            <div class="upload-area p-8 rounded-xl text-center cursor-pointer" onclick="document.getElementById('licenseFront').click()">
                                <div class="w-16 h-16 bg-purple-100 dark:bg-purple-900 rounded-full flex items-center justify-center mx-auto mb-4">
                                    <svg class="w-8 h-8 text-purple-600 dark:text-purple-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path>
                                    </svg>
                                </div>
                                <p class="text-gray-600 dark:text-gray-400 mb-2">Click to upload front side</p>
                                <p class="text-sm text-gray-500 dark:text-gray-500">PNG, JPG up to 10MB</p>
                                <input type="file" id="licenseFront" class="hidden" accept="image/*" onchange="handleFileUpload(this, 'licenseFrontPreview')">
                            </div>
                            <div id="licenseFrontPreview" class="mt-4 hidden">
                                <img class="w-full h-48 object-cover rounded-lg border-2 border-green-500">
                                <p class="text-sm text-green-600 dark:text-green-400 mt-2">✓ Front side uploaded successfully</p>
                            </div>
                        </div>
                        
                        <div>
                            <h3 class="font-semibold text-gray-900 dark:text-white mb-4">Back Side</h3>
                            <div class="upload-area p-8 rounded-xl text-center cursor-pointer" onclick="document.getElementById('licenseBack').click()">
                                <div class="w-16 h-16 bg-purple-100 dark:bg-purple-900 rounded-full flex items-center justify-center mx-auto mb-4">
                                    <svg class="w-8 h-8 text-purple-600 dark:text-purple-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path>
                                    </svg>
                                </div>
                                <p class="text-gray-600 dark:text-gray-400 mb-2">Click to upload back side</p>
                                <p class="text-sm text-gray-500 dark:text-gray-500">PNG, JPG up to 10MB</p>
                                <input type="file" id="licenseBack" class="hidden" accept="image/*" onchange="handleFileUpload(this, 'licenseBackPreview')">
                            </div>
                            <div id="licenseBackPreview" class="mt-4 hidden">
                                <img class="w-full h-48 object-cover rounded-lg border-2 border-green-500">
                                <p class="text-sm text-green-600 dark:text-green-400 mt-2">✓ Back side uploaded successfully</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="flex justify-center mt-6">
                    <button onclick="proceedToBiometric()" id="proceedBtn" class="bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed" disabled>
                        Proceed to Biometric Verification
                    </button>
                </div>
            </div>

            <!-- Biometric Verification Section -->
            <div id="biometricVerification" class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 trading-card hidden">
                <h2 class="text-xl font-bold text-gray-900 dark:text-white mb-6">Biometric Verification</h2>
                
                <div class="max-w-2xl mx-auto">
                    <div class="text-center mb-6">
                        <div class="w-20 h-20 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center mx-auto mb-4">
                            <svg class="w-10 h-10 text-blue-600 dark:text-blue-400" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M18 8a6 6 0 01-7.743 5.743L10 14l-0.257-0.257A6 6 0 1118 8zM10 2a8 8 0 100 16 8 8 0 000-16zm1 11a1 1 0 11-2 0 1 1 0 012 0zm-1-8a3 3 0 00-3 3v1a1 1 0 002 0V8a1 1 0 112 0v5a1 1 0 002 0V8a3 3 0 00-3-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                        <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-2">Live Selfie Verification</h3>
                        <p class="text-gray-600 dark:text-gray-400">Take a live selfie to verify your identity. Please smile and blink when prompted.</p>
                    </div>

                    <!-- Camera Preview -->
                    <div class="camera-preview mb-6" id="cameraPreview">
                        <div class="face-detection-overlay"></div>
                        <div class="blink-indicator" id="blinkIndicator">
                            Position your face in the oval
                        </div>
                        <div class="absolute inset-0 flex items-center justify-center">
                            <div class="text-center">
                                <div class="w-24 h-24 bg-white bg-opacity-20 rounded-full flex items-center justify-center mx-auto mb-4">
                                    <svg class="w-12 h-12 text-white" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M4 5a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V7a2 2 0 00-2-2h-1.586l-.707-.707A1 1 0 0013 4H7a1 1 0 00-.707.293L5.586 5H4zm6 9a3 3 0 100-6 3 3 0 000 6z" clip-rule="evenodd"></path>
                                    </svg>
                                </div>
                                <p class="text-white text-sm">Camera will activate when you start verification</p>
                            </div>
                        </div>
                    </div>

                    <!-- Verification Instructions -->
                    <div class="bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 mb-6">
                        <h4 class="font-medium text-blue-800 dark:text-blue-200 mb-2">📋 Verification Steps:</h4>
                        <ol class="text-sm text-blue-700 dark:text-blue-300 space-y-1">
                            <li>1. Position your face within the oval frame</li>
                            <li>2. Look directly at the camera and smile</li>
                            <li>3. Blink your eyes when prompted</li>
                            <li>4. Hold still until verification is complete</li>
                        </ol>
                    </div>

                    <!-- Verification Status -->
                    <div id="verificationStatus" class="hidden mb-6">
                        <div class="flex items-center justify-center space-x-3 p-4 bg-green-50 dark:bg-green-900/20 rounded-lg">
                            <div class="w-8 h-8 bg-green-500 rounded-full flex items-center justify-center">
                                <svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                                </svg>
                            </div>
                            <div>
                                <p class="font-medium text-green-800 dark:text-green-200">Biometric verification successful!</p>
                                <p class="text-sm text-green-600 dark:text-green-400">Your identity has been verified successfully.</p>
                            </div>
                        </div>
                    </div>

                    <!-- Action Buttons -->
                    <div class="flex justify-center space-x-4">
                        <button onclick="startBiometricVerification()" id="startVerificationBtn" class="bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 rounded-lg font-medium transition-colors">
                            Start Verification
                        </button>
                        <button onclick="retakeSelfie()" id="retakeBtn" class="bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-900 dark:text-white px-8 py-3 rounded-lg font-medium transition-colors hidden">
                            Retake Selfie
                        </button>
                    </div>
                </div>
            </div>

            <!-- Verification Complete -->
            <div id="verificationComplete" class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 trading-card hidden">
                <div class="text-center">
                    <div class="w-20 h-20 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center mx-auto mb-6">
                        <svg class="w-10 h-10 text-green-600 dark:text-green-400" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                        </svg>
                    </div>
                    <h2 class="text-2xl font-bold text-gray-900 dark:text-white mb-4">Verification Complete! 🎉</h2>
                    <p class="text-lg text-gray-600 dark:text-gray-400 mb-6">Your identity has been successfully verified. You now have access to all JamiCrypto features.</p>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-8">
                        <div class="p-4 bg-green-50 dark:bg-green-900/20 rounded-lg">
                            <h3 class="font-semibold text-green-800 dark:text-green-200 mb-2">✓ Increased Limits</h3>
                            <p class="text-sm text-green-600 dark:text-green-400">Daily trading limit: $50,000</p>
                            <p class="text-sm text-green-600 dark:text-green-400">Withdrawal limit: $25,000</p>
                        </div>
                        <div class="p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg">
                            <h3 class="font-semibold text-blue-800 dark:text-blue-200 mb-2">✓ Premium Features</h3>
                            <p class="text-sm text-blue-600 dark:text-blue-400">P2P Trading unlocked</p>
                            <p class="text-sm text-blue-600 dark:text-blue-400">Advanced analytics access</p>
                        </div>
                    </div>
                    
                    <button onclick="showSection('dashboard')" class="bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 rounded-lg font-medium transition-colors">
                        Continue to Dashboard
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modals -->
    <!-- All Trading Pairs Modal -->
    <div id="allPairsModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <div class="bg-white dark:bg-gray-800 rounded-xl p-6 w-full max-w-4xl mx-4 max-h-[80vh] overflow-hidden">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-xl font-semibold text-gray-900 dark:text-white">Select Trading Pair</h3>
                <button onclick="closeModal('allPairsModal')" class="text-gray-400 hover:text-gray-600 dark:hover:text-gray-300">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Search and Filter -->
            <div class="flex space-x-4 mb-6">
                <div class="flex-1">
                    <input type="text" id="pairSearch" placeholder="Search trading pairs..." class="w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white" oninput="filterTradingPairs()">
                </div>
                <div class="flex space-x-2">
                    <button onclick="filterPairsByQuote('USDT')" class="pair-filter-btn active px-4 py-2 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded-lg font-medium">USDT</button>
                    <button onclick="filterPairsByQuote('BTC')" class="pair-filter-btn px-4 py-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg font-medium">BTC</button>
                    <button onclick="filterPairsByQuote('ETH')" class="pair-filter-btn px-4 py-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg font-medium">ETH</button>
                </div>
            </div>
            
            <!-- Trading Pairs Grid -->
            <div class="overflow-y-auto max-h-96">
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3" id="allPairsGrid">
                    <!-- Populated by JavaScript -->
                </div>
            </div>
        </div>
    </div>

    <!-- Authentication Modal -->
    <div id="authModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <div class="bg-white dark:bg-gray-800 rounded-xl p-8 w-full max-w-md mx-4">
            <div class="flex justify-between items-center mb-6">
                <h3 id="authModalTitle" class="text-2xl font-bold text-gray-900 dark:text-white">Sign In</h3>
                <button onclick="closeModal('authModal')" class="text-gray-400 hover:text-gray-600 dark:hover:text-gray-300">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Sign In Form -->
            <div id="signinForm">
                <div class="space-y-4 mb-6">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Email</label>
                        <input type="email" id="signinEmail" placeholder="Enter your email" class="w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Password</label>
                        <div class="relative">
                            <input type="password" id="signinPassword" placeholder="Enter your password" class="w-full p-3 pr-12 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                            <button type="button" onclick="togglePassword('signinPassword')" class="absolute right-3 top-3 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path>
                                </svg>
                            </button>
                        </div>
                    </div>
                    <div class="flex items-center justify-between">
                        <label class="flex items-center">
                            <input type="checkbox" id="rememberMe" class="rounded border-gray-300 text-blue-600 focus:ring-blue-500">
                            <span class="ml-2 text-sm text-gray-600 dark:text-gray-400">Remember me</span>
                        </label>
                        <button type="button" onclick="showForgotPassword()" class="text-sm text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300">
                            Forgot password?
                        </button>
                    </div>
                </div>
                
                <button onclick="handleSignIn()" class="w-full bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-lg font-medium transition-colors mb-4">
                    Sign In
                </button>
                
                <div class="relative mb-4">
                    <div class="absolute inset-0 flex items-center">
                        <div class="w-full border-t border-gray-300 dark:border-gray-600"></div>
                    </div>
                    <div class="relative flex justify-center text-sm">
                        <span class="px-2 bg-white dark:bg-gray-800 text-gray-500 dark:text-gray-400">Or continue with</span>
                    </div>
                </div>
                
                <div class="grid grid-cols-2 gap-3 mb-6">
                    <button onclick="handleSocialLogin('google')" class="flex items-center justify-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors">
                        <svg class="w-5 h-5 mr-2" viewBox="0 0 24 24">
                            <path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
                            <path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
                            <path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
                            <path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
                        </svg>
                        Google
                    </button>
                    <button onclick="handleSocialLogin('apple')" class="flex items-center justify-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11z"/>
                        </svg>
                        Apple
                    </button>
                </div>
                
                <p class="text-center text-sm text-gray-600 dark:text-gray-400">
                    Don't have an account? 
                    <button onclick="switchToSignUp()" class="text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-medium">
                        Sign up
                    </button>
                </p>
                
                <!-- Demo Credentials -->
                <div class="mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg">
                    <h4 class="font-medium text-blue-800 dark:text-blue-200 mb-2">🚀 Demo Credentials</h4>
                    <div class="text-sm text-blue-700 dark:text-blue-300 space-y-1">
                        <p><strong>Email:</strong> demo@jamicrypto.com</p>
                        <p><strong>Password:</strong> demo123</p>
                        <p class="text-xs mt-2">Or create a new account to test the full registration flow!</p>
                    </div>
                </div>
            </div>
            
            <!-- Sign Up Form -->
            <div id="signupForm" class="hidden">
                <div class="space-y-4 mb-6">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Full Name</label>
                        <input type="text" id="signupName" placeholder="Enter your full name" class="w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Email</label>
                        <input type="email" id="signupEmail" placeholder="Enter your email" class="w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Password</label>
                        <div class="relative">
                            <input type="password" id="signupPassword" placeholder="Create a strong password" class="w-full p-3 pr-12 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                            <button type="button" onclick="togglePassword('signupPassword')" class="absolute right-3 top-3 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path>
                                </svg>
                            </button>
                        </div>
                        <div class="mt-2">
                            <div class="flex justify-between text-sm mb-1">
                                <span class="text-gray-600 dark:text-gray-400">Password strength:</span>
                                <span id="passwordStrengthText" class="font-medium">Weak</span>
                            </div>
                            <div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2">
                                <div id="passwordStrengthBar" class="h-full bg-red-500 rounded-full transition-all duration-300" style="width: 0%"></div>
                            </div>
                        </div>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Confirm Password</label>
                        <div class="relative">
                            <input type="password" id="confirmPassword" placeholder="Confirm your password" class="w-full p-3 pr-12 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                            <button type="button" onclick="togglePassword('confirmPassword')" class="absolute right-3 top-3 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path>
                                </svg>
                            </button>
                        </div>
                    </div>
                    <div class="flex items-start">
                        <input type="checkbox" id="agreeTerms" class="mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500">
                        <label for="agreeTerms" class="ml-2 text-sm text-gray-600 dark:text-gray-400">
                            I agree to the <a href="#" class="text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300">Terms of Service</a> and <a href="#" class="text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300">Privacy Policy</a>
                        </label>
                    </div>
                </div>
                
                <button onclick="handleSignUp()" class="w-full bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-lg font-medium transition-colors mb-4">
                    Create Account
                </button>
                
                <p class="text-center text-sm text-gray-600 dark:text-gray-400">
                    Already have an account? 
                    <button onclick="switchToSignIn()" class="text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-medium">
                        Sign in
                    </button>
                </p>
            </div>
            
            <!-- Forgot Password Form -->
            <div id="forgotPasswordForm" class="hidden">
                <div class="space-y-4 mb-6">
                    <p class="text-sm text-gray-600 dark:text-gray-400">
                        Enter your email address and we'll send you a link to reset your password.
                    </p>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Email</label>
                        <input type="email" id="forgotEmail" placeholder="Enter your email" class="w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                    </div>
                </div>
                
                <button onclick="handleForgotPassword()" class="w-full bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-lg font-medium transition-colors mb-4">
                    Send Reset Link
                </button>
                
                <p class="text-center text-sm text-gray-600 dark:text-gray-400">
                    Remember your password? 
                    <button onclick="switchToSignIn()" class="text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-medium">
                        Sign in
                    </button>
                </p>
            </div>
        </div>
    </div>

    <div id="depositModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <div class="bg-white dark:bg-gray-800 rounded-xl p-6 w-full max-w-md mx-4">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-lg font-semibold text-gray-900 dark:text-white">Deposit Crypto</h3>
                <button onclick="closeModal('depositModal')" class="text-gray-400 hover:text-gray-600 dark:hover:text-gray-300">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            <div class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Select Cryptocurrency</label>
                    <select class="w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white">
                        <option>Bitcoin (BTC)</option>
                        <option>Ethereum (ETH)</option>
                        <option>USDT</option>
                    </select>
                </div>
                <div class="text-center p-4 bg-gray-50 dark:bg-gray-700 rounded-lg">
                    <div class="w-32 h-32 mx-auto mb-4 bg-white dark:bg-gray-600 rounded-lg flex items-center justify-center">
                        <div class="text-xs text-gray-500 dark:text-gray-400">QR Code</div>
                    </div>
                    <p class="text-sm font-mono text-gray-600 dark:text-gray-400 break-all">1A1zP1eP5QGefi2DMPTfTL5SLmv7DivfNa</p>
                    <button class="mt-2 text-blue-600 dark:text-blue-400 text-sm hover:text-blue-700 dark:hover:text-blue-300">Copy Address</button>
                </div>
                <div class="bg-yellow-50 dark:bg-yellow-900/20 p-3 rounded-lg">
                    <p class="text-sm text-yellow-800 dark:text-yellow-200">⚠️ Demo Mode: This is a sample deposit interface. No real transactions will occur.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- P2P Trade Modal -->
    <div id="p2pTradeModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <div class="bg-white dark:bg-gray-800 rounded-xl p-6 w-full max-w-md mx-4">
            <div class="flex justify-between items-center mb-6">
                <h3 id="p2pTradeModalTitle" class="text-xl font-semibold text-gray-900 dark:text-white">Buy BTC</h3>
                <button onclick="closeModal('p2pTradeModal')" class="text-gray-400 hover:text-gray-600 dark:hover:text-gray-300">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Trader Info -->
            <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-4 mb-6">
                <div class="flex items-center space-x-3 mb-3">
                    <div id="p2pTraderAvatar" class="w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center">
                        <span class="text-white font-bold">JD</span>
                    </div>
                    <div>
                        <p id="p2pTraderName" class="font-medium text-gray-900 dark:text-white">John Doe</p>
                        <div class="flex items-center space-x-2">
                            <span id="p2pTraderRating" class="text-sm text-yellow-500">★★★★★</span>
                            <span id="p2pTraderTrades" class="text-sm text-gray-600 dark:text-gray-400">(234 trades)</span>
                        </div>
                    </div>
                </div>
                <div class="grid grid-cols-2 gap-4 text-sm">
                    <div>
                        <span class="text-gray-600 dark:text-gray-400">Price:</span>
                        <span id="p2pOfferPrice" class="font-medium text-gray-900 dark:text-white ml-1">$43,650</span>
                    </div>
                    <div>
                        <span class="text-gray-600 dark:text-gray-400">Payment:</span>
                        <span id="p2pOfferPayment" class="font-medium text-gray-900 dark:text-white ml-1">Bank Transfer</span>
                    </div>
                </div>
            </div>
            
            <!-- Trade Form -->
            <div class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Amount (USD)</label>
                    <input type="number" id="p2pTradeAmount" placeholder="1000" class="w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white" oninput="calculateP2PTradeAmount()">
                    <div class="flex justify-between text-sm text-gray-600 dark:text-gray-400 mt-1">
                        <span>Min: <span id="p2pMinLimit">$100</span></span>
                        <span>Max: <span id="p2pMaxLimit">$5,000</span></span>
                    </div>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">You will receive</label>
                    <div class="p-3 bg-gray-50 dark:bg-gray-700 rounded-lg">
                        <span id="p2pReceiveAmount" class="text-lg font-bold text-gray-900 dark:text-white">0.0229 BTC</span>
                    </div>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Payment Method</label>
                    <div class="p-3 bg-gray-50 dark:bg-gray-700 rounded-lg">
                        <p class="font-medium text-gray-900 dark:text-white">Bank Transfer</p>
                        <p class="text-sm text-gray-600 dark:text-gray-400">Payment window: 15 minutes</p>
                    </div>
                </div>
                
                <div class="bg-yellow-50 dark:bg-yellow-900/20 p-3 rounded-lg">
                    <p class="text-sm text-yellow-800 dark:text-yellow-200">
                        ⚠️ Please ensure you can complete payment within 15 minutes to avoid order cancellation.
                    </p>
                </div>
                
                <button onclick="confirmP2PTrade()" class="w-full bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-lg font-medium transition-colors">
                    Confirm Trade
                </button>
            </div>
        </div>
    </div>

    <!-- P2P Create Offer Modal -->
    <div id="p2pCreateOfferModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <div class="bg-white dark:bg-gray-800 rounded-xl p-6 w-full max-w-lg mx-4 max-h-[90vh] overflow-y-auto">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-xl font-semibold text-gray-900 dark:text-white">Create P2P Offer</h3>
                <button onclick="closeModal('p2pCreateOfferModal')" class="text-gray-400 hover:text-gray-600 dark:hover:text-gray-300">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            
            <div class="space-y-6">
                <!-- Offer Type -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3">I want to</label>
                    <div class="grid grid-cols-2 gap-3">
                        <button onclick="setCreateOfferType('sell')" id="createOfferSell" class="p-3 border-2 border-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-800 dark:text-blue-200 rounded-lg font-medium">
                            Sell Crypto
                        </button>
                        <button onclick="setCreateOfferType('buy')" id="createOfferBuy" class="p-3 border-2 border-gray-200 dark:border-gray-700 hover:border-blue-400 text-gray-700 dark:text-gray-300 rounded-lg font-medium">
                            Buy Crypto
                        </button>
                    </div>
                </div>
                
                <!-- Asset Selection -->
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Cryptocurrency</label>
                        <select id="createOfferCrypto" class="w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white">
                            <option value="BTC">Bitcoin (BTC)</option>
                            <option value="ETH">Ethereum (ETH)</option>
                            <option value="USDT">Tether (USDT)</option>
                            <option value="BNB">BNB (BNB)</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Fiat Currency</label>
                        <select id="createOfferFiat" class="w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white">
                            <option value="USD">US Dollar (USD)</option>
                            <option value="EUR">Euro (EUR)</option>
                            <option value="GBP">British Pound (GBP)</option>
                        </select>
                    </div>
                </div>
                
                <!-- Price and Amount -->
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Price per BTC</label>
                        <input type="number" id="createOfferPrice" placeholder="43500" class="w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white">
                        <p class="text-xs text-gray-500 dark:text-gray-400 mt-1">Market: $43,567</p>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Total Amount</label>
                        <input type="number" id="createOfferAmount" placeholder="1.5" step="0.001" class="w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white">
                        <p class="text-xs text-gray-500 dark:text-gray-400 mt-1">Available: 2.5 BTC</p>
                    </div>
                </div>
                
                <!-- Trading Limits -->
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Min Order (USD)</label>
                        <input type="number" id="createOfferMinLimit" placeholder="100" class="w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Max Order (USD)</label>
                        <input type="number" id="createOfferMaxLimit" placeholder="5000" class="w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white">
                    </div>
                </div>
                
                <!-- Payment Methods -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3">Payment Methods</label>
                    <div class="grid grid-cols-2 gap-3">
                        <label class="flex items-center space-x-2">
                            <input type="checkbox" class="rounded border-gray-300 text-blue-600 focus:ring-blue-500" checked>
                            <span class="text-sm text-gray-700 dark:text-gray-300">Bank Transfer</span>
                        </label>
                        <label class="flex items-center space-x-2">
                            <input type="checkbox" class="rounded border-gray-300 text-blue-600 focus:ring-blue-500">
                            <span class="text-sm text-gray-700 dark:text-gray-300">PayPal</span>
                        </label>
                        <label class="flex items-center space-x-2">
                            <input type="checkbox" class="rounded border-gray-300 text-blue-600 focus:ring-blue-500">
                            <span class="text-sm text-gray-700 dark:text-gray-300">Wise</span>
                        </label>
                        <label class="flex items-center space-x-2">
                            <input type="checkbox" class="rounded border-gray-300 text-blue-600 focus:ring-blue-500">
                            <span class="text-sm text-gray-700 dark:text-gray-300">Revolut</span>
                        </label>
                    </div>
                </div>
                
                <!-- Payment Window -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Payment Window</label>
                    <select id="createOfferPaymentWindow" class="w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white">
                        <option value="15">15 minutes</option>
                        <option value="30">30 minutes</option>
                        <option value="60">1 hour</option>
                    </select>
                </div>
                
                <!-- Terms -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Trading Terms (Optional)</label>
                    <textarea id="createOfferTerms" placeholder="Add any specific requirements or instructions..." rows="3" class="w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"></textarea>
                </div>
                
                <button onclick="submitP2POffer()" class="w-full bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-lg font-medium transition-colors">
                    Create Offer
                </button>
            </div>
        </div>
    </div>

    <script>
        // Theme Management
        let isDarkMode = false;
        
        function toggleTheme() {
            isDarkMode = !isDarkMode;
            document.documentElement.classList.toggle('dark', isDarkMode);
        }

        // Navigation
        function showSection(sectionName) {
            // Hide all sections
            document.querySelectorAll('.section').forEach(section => {
                section.classList.add('hidden');
            });
            
            // Show selected section
            document.getElementById(sectionName).classList.remove('hidden');
            
            // Update navigation buttons
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('text-blue-600', 'dark:text-blue-400');
                btn.classList.add('text-gray-600', 'dark:text-gray-300');
            });
            
            event.target.classList.remove('text-gray-600', 'dark:text-gray-300');
            event.target.classList.add('text-blue-600', 'dark:text-blue-400');
        }

        // Verification Functions
        let selectedDocumentType = '';
        let uploadedFiles = {};
        
        function selectDocumentType(type) {
            selectedDocumentType = type;
            
            // Reset all document type selections
            document.querySelectorAll('.verification-step').forEach(step => {
                step.classList.remove('active');
            });
            
            // Activate selected type
            document.getElementById(type === 'id' ? 'idCard' : type).classList.add('active');
            
            // Show document upload section
            document.getElementById('documentUpload').classList.remove('hidden');
            
            // Hide all upload sections
            document.getElementById('idUpload').classList.add('hidden');
            document.getElementById('passportUpload').classList.add('hidden');
            document.getElementById('licenseUpload').classList.add('hidden');
            
            // Show relevant upload section
            if (type === 'id') {
                document.getElementById('idUpload').classList.remove('hidden');
            } else if (type === 'passport') {
                document.getElementById('passportUpload').classList.remove('hidden');
            } else if (type === 'license') {
                document.getElementById('licenseUpload').classList.remove('hidden');
            }
            
            checkUploadCompletion();
        }
        
        function handleFileUpload(input, previewId) {
            const file = input.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const preview = document.getElementById(previewId);
                    const img = preview.querySelector('img');
                    img.src = e.target.result;
                    preview.classList.remove('hidden');
                    
                    // Store uploaded file info
                    uploadedFiles[input.id] = file;
                    
                    checkUploadCompletion();
                };
                reader.readAsDataURL(file);
            }
        }
        
        function checkUploadCompletion() {
            const proceedBtn = document.getElementById('proceedBtn');
            let isComplete = false;
            
            if (selectedDocumentType === 'id') {
                isComplete = uploadedFiles['idFront'] && uploadedFiles['idBack'];
            } else if (selectedDocumentType === 'passport') {
                isComplete = uploadedFiles['passportFile'];
            } else if (selectedDocumentType === 'license') {
                isComplete = uploadedFiles['licenseFront'] && uploadedFiles['licenseBack'];
            }
            
            proceedBtn.disabled = !isComplete;
        }
        
        function proceedToBiometric() {
            document.getElementById('documentUpload').classList.add('hidden');
            document.getElementById('biometricVerification').classList.remove('hidden');
            
            // Simulate document processing
            setTimeout(() => {
                const notification = document.createElement('div');
                notification.className = 'fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50';
                notification.textContent = 'Documents uploaded successfully! Proceeding to biometric verification...';
                document.body.appendChild(notification);
                
                setTimeout(() => {
                    notification.remove();
                }, 3000);
            }, 1000);
        }
        
        let verificationStep = 0;
        let verificationTimer;
        
        function startBiometricVerification() {
            const startBtn = document.getElementById('startVerificationBtn');
            const indicator = document.getElementById('blinkIndicator');
            const cameraPreview = document.getElementById('cameraPreview');
            
            startBtn.disabled = true;
            startBtn.textContent = 'Initializing Camera...';
            
            // Simulate camera activation
            setTimeout(() => {
                cameraPreview.style.background = 'linear-gradient(45deg, #1f2937, #374151)';
                indicator.textContent = 'Camera activated - Position your face';
                startBtn.textContent = 'Verifying...';
                
                // Start verification sequence
                verificationSequence();
            }, 2000);
        }
        
        function verificationSequence() {
            const indicator = document.getElementById('blinkIndicator');
            const steps = [
                'Look directly at the camera',
                'Please smile 😊',
                'Now blink your eyes',
                'Blink again to confirm',
                'Hold still - Processing...',
                'Verification complete!'
            ];
            
            verificationStep = 0;
            
            function nextStep() {
                if (verificationStep < steps.length) {
                    indicator.textContent = steps[verificationStep];
                    
                    if (verificationStep === 2 || verificationStep === 3) {
                        indicator.classList.add('blinking');
                    } else {
                        indicator.classList.remove('blinking');
                    }
                    
                    verificationStep++;
                    
                    if (verificationStep < steps.length) {
                        setTimeout(nextStep, verificationStep === 4 ? 3000 : 2000);
                    } else {
                        completeVerification();
                    }
                }
            }
            
            nextStep();
        }
        
        function completeVerification() {
            const startBtn = document.getElementById('startVerificationBtn');
            const retakeBtn = document.getElementById('retakeBtn');
            const status = document.getElementById('verificationStatus');
            
            startBtn.classList.add('hidden');
            retakeBtn.classList.remove('hidden');
            status.classList.remove('hidden');
            
            // Show completion after a delay
            setTimeout(() => {
                document.getElementById('biometricVerification').classList.add('hidden');
                document.getElementById('verificationComplete').classList.remove('hidden');
                
                // Success notification
                const notification = document.createElement('div');
                notification.className = 'fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50';
                notification.textContent = '🎉 Identity verification completed successfully!';
                document.body.appendChild(notification);
                
                setTimeout(() => {
                    notification.remove();
                }, 5000);
            }, 2000);
        }
        
        function retakeSelfie() {
            const startBtn = document.getElementById('startVerificationBtn');
            const retakeBtn = document.getElementById('retakeBtn');
            const status = document.getElementById('verificationStatus');
            const indicator = document.getElementById('blinkIndicator');
            const cameraPreview = document.getElementById('cameraPreview');
            
            startBtn.classList.remove('hidden');
            startBtn.disabled = false;
            startBtn.textContent = 'Start Verification';
            retakeBtn.classList.add('hidden');
            status.classList.add('hidden');
            
            indicator.textContent = 'Position your face in the oval';
            indicator.classList.remove('blinking');
            cameraPreview.style.background = '#000';
            
            verificationStep = 0;
        }

        // Trading Functions
        let currentTradeType = 'buy';
        let currentTradingPair = { base: 'BTC', quote: 'USDT' };
        let allTradingPairs = [];
        let currentPairFilter = 'USDT';
        
        // Generate comprehensive trading pairs
        function generateTradingPairs() {
            const baseAssets = [
                { symbol: 'BTC', name: 'Bitcoin', price: 43567.89, color: 'from-orange-400 to-orange-600' },
                { symbol: 'ETH', name: 'Ethereum', price: 2634.56, color: 'from-blue-400 to-blue-600' },
                { symbol: 'BNB', name: 'BNB', price: 312.45, color: 'from-yellow-400 to-yellow-600' },
                { symbol: 'SOL', name: 'Solana', price: 98.76, color: 'from-purple-400 to-purple-600' },
                { symbol: 'ADA', name: 'Cardano', price: 0.4567, color: 'from-blue-400 to-blue-600' },
                { symbol: 'AVAX', name: 'Avalanche', price: 36.78, color: 'from-red-400 to-red-600' },
                { symbol: 'DOT', name: 'Polkadot', price: 7.23, color: 'from-pink-400 to-pink-600' },
                { symbol: 'MATIC', name: 'Polygon', price: 0.8934, color: 'from-purple-400 to-purple-600' },
                { symbol: 'LINK', name: 'Chainlink', price: 14.56, color: 'from-blue-400 to-blue-600' },
                { symbol: 'UNI', name: 'Uniswap', price: 6.78, color: 'from-pink-400 to-pink-600' },
                { symbol: 'LTC', name: 'Litecoin', price: 72.34, color: 'from-gray-400 to-gray-600' },
                { symbol: 'BCH', name: 'Bitcoin Cash', price: 234.56, color: 'from-green-400 to-green-600' },
                { symbol: 'XRP', name: 'XRP', price: 0.6234, color: 'from-gray-400 to-gray-600' },
                { symbol: 'DOGE', name: 'Dogecoin', price: 0.0823, color: 'from-yellow-400 to-yellow-600' },
                { symbol: 'ATOM', name: 'Cosmos', price: 12.45, color: 'from-purple-400 to-purple-600' },
                { symbol: 'FIL', name: 'Filecoin', price: 5.67, color: 'from-blue-400 to-blue-600' },
                { symbol: 'VET', name: 'VeChain', price: 0.0234, color: 'from-blue-400 to-blue-600' },
                { symbol: 'TRX', name: 'TRON', price: 0.1045, color: 'from-red-400 to-red-600' },
                { symbol: 'NEAR', name: 'NEAR Protocol', price: 2.34, color: 'from-green-400 to-green-600' },
                { symbol: 'ALGO', name: 'Algorand', price: 0.1876, color: 'from-blue-400 to-blue-600' }
            ];
            
            const quoteAssets = ['USDT', 'BTC', 'ETH'];
            const pairs = [];
            
            baseAssets.forEach(base => {
                quoteAssets.forEach(quote => {
                    if (base.symbol !== quote) {
                        let price = base.price;
                        if (quote === 'BTC') {
                            price = base.price / 43567.89; // Convert to BTC price
                        } else if (quote === 'ETH') {
                            price = base.price / 2634.56; // Convert to ETH price
                        }
                        
                        pairs.push({
                            base: base.symbol,
                            quote: quote,
                            name: base.name,
                            price: price,
                            change24h: (Math.random() - 0.5) * 10,
                            volume: Math.random() * 1000000,
                            color: base.color
                        });
                    }
                });
            });
            
            return pairs;
        }
        
        function switchTradingPair(base, quote) {
            currentTradingPair = { base, quote };
            
            // Update UI elements
            updateTradingPairUI();
            updateTradingChart();
            updateOrderBook();
            
            // Update active pair button
            document.querySelectorAll('.trading-pair-btn').forEach(btn => {
                btn.classList.remove('active', 'border-blue-500', 'bg-blue-50', 'dark:bg-blue-900/20');
                btn.classList.add('border-gray-200', 'dark:border-gray-700');
            });
            
            const activeBtn = document.getElementById(`pair-${base}-${quote}`);
            if (activeBtn) {
                activeBtn.classList.add('active', 'border-blue-500', 'bg-blue-50', 'dark:bg-blue-900/20');
                activeBtn.classList.remove('border-gray-200', 'dark:border-gray-700');
            }
            
            showNotification(`Switched to ${base}/${quote} trading pair`, 'success', 2000);
        }
        
        function updateTradingPairUI() {
            const pair = allTradingPairs.find(p => p.base === currentTradingPair.base && p.quote === currentTradingPair.quote);
            if (!pair) return;
            
            // Update labels and placeholders
            document.getElementById('baseAsset').textContent = currentTradingPair.base;
            document.getElementById('baseAssetLabel').textContent = currentTradingPair.base;
            
            const priceInput = document.getElementById('tradePrice');
            priceInput.placeholder = pair.price.toLocaleString('en-US', { 
                minimumFractionDigits: currentTradingPair.quote === 'BTC' ? 8 : 2,
                maximumFractionDigits: currentTradingPair.quote === 'BTC' ? 8 : 6
            });
            
            // Update trade button
            const tradeButton = document.getElementById('tradeButton');
            tradeButton.textContent = `${currentTradeType === 'buy' ? 'Buy' : 'Sell'} ${currentTradingPair.base}`;
            
            // Update chart title
            const chartTitle = document.querySelector('#trading h2');
            if (chartTitle) {
                chartTitle.textContent = `${currentTradingPair.base}/${currentTradingPair.quote}`;
            }
            
            // Update current price display
            const currentPriceElement = document.getElementById('currentPrice');
            const priceChangeElement = document.getElementById('priceChange');
            
            if (currentPriceElement && priceChangeElement) {
                const symbol = currentTradingPair.quote === 'USDT' ? '$' : currentTradingPair.quote === 'BTC' ? '₿' : 'Ξ';
                currentPriceElement.textContent = `${symbol}${pair.price.toLocaleString('en-US', { 
                    minimumFractionDigits: currentTradingPair.quote === 'BTC' ? 8 : 2,
                    maximumFractionDigits: currentTradingPair.quote === 'BTC' ? 8 : 6
                })}`;
                
                priceChangeElement.textContent = `${pair.change24h >= 0 ? '+' : ''}${pair.change24h.toFixed(2)}%`;
                priceChangeElement.className = `text-sm ${pair.change24h >= 0 ? 'text-green-600 dark:text-green-400' : 'text-red-600 dark:text-red-400'}`;
            }
        }
        
        function showAllPairs() {
            populateAllPairsModal();
            document.getElementById('allPairsModal').classList.remove('hidden');
            document.getElementById('allPairsModal').classList.add('flex');
        }
        
        function populateAllPairsModal() {
            const grid = document.getElementById('allPairsGrid');
            const filteredPairs = allTradingPairs.filter(pair => 
                pair.quote === currentPairFilter &&
                (document.getElementById('pairSearch')?.value === '' || 
                 pair.base.toLowerCase().includes(document.getElementById('pairSearch')?.value.toLowerCase() || '') ||
                 pair.name.toLowerCase().includes(document.getElementById('pairSearch')?.value.toLowerCase() || ''))
            );
            
            grid.innerHTML = filteredPairs.map(pair => `
                <button onclick="selectPairFromModal('${pair.base}', '${pair.quote}')" class="p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:border-blue-500 dark:hover:border-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all text-left">
                    <div class="flex items-center space-x-3 mb-2">
                        <div class="w-8 h-8 bg-gradient-to-r ${pair.color} rounded-full flex items-center justify-center">
                            <span class="text-white text-xs font-bold">${pair.base.charAt(0)}</span>
                        </div>
                        <div>
                            <p class="font-medium text-gray-900 dark:text-white">${pair.base}/${pair.quote}</p>
                            <p class="text-sm text-gray-600 dark:text-gray-400">${pair.name}</p>
                        </div>
                    </div>
                    <div class="flex justify-between items-center">
                        <span class="font-medium text-gray-900 dark:text-white">
                            ${pair.quote === 'USDT' ? '$' : pair.quote === 'BTC' ? '₿' : 'Ξ'}${pair.price.toLocaleString('en-US', { 
                                minimumFractionDigits: pair.quote === 'BTC' ? 8 : 2,
                                maximumFractionDigits: pair.quote === 'BTC' ? 8 : 6
                            })}
                        </span>
                        <span class="${pair.change24h >= 0 ? 'text-green-600 dark:text-green-400' : 'text-red-600 dark:text-red-400'} text-sm font-medium">
                            ${pair.change24h >= 0 ? '+' : ''}${pair.change24h.toFixed(2)}%
                        </span>
                    </div>
                </button>
            `).join('');
        }
        
        function selectPairFromModal(base, quote) {
            switchTradingPair(base, quote);
            closeModal('allPairsModal');
        }
        
        function filterPairsByQuote(quote) {
            currentPairFilter = quote;
            
            // Update filter buttons
            document.querySelectorAll('.pair-filter-btn').forEach(btn => {
                btn.classList.remove('active', 'bg-blue-100', 'dark:bg-blue-900', 'text-blue-800', 'dark:text-blue-200');
                btn.classList.add('text-gray-600', 'dark:text-gray-400');
            });
            
            event.target.classList.add('active', 'bg-blue-100', 'dark:bg-blue-900', 'text-blue-800', 'dark:text-blue-200');
            event.target.classList.remove('text-gray-600', 'dark:text-gray-400');
            
            populateAllPairsModal();
        }
        
        function filterTradingPairs() {
            populateAllPairsModal();
        }
        
        function updateOrderType() {
            const orderType = document.getElementById('orderType').value;
            const priceSection = document.getElementById('priceSection');
            
            if (orderType === 'market') {
                priceSection.style.display = 'none';
            } else {
                priceSection.style.display = 'block';
            }
            
            calculateTradeTotal();
        }
        
        function setPercentage(percentage) {
            const amountInput = document.getElementById('tradeAmount');
            const availableBalance = currentTradeType === 'buy' ? 10000 : 1.5; // Mock balances
            const currentPrice = getCurrentPairPrice();
            
            let amount;
            if (currentTradeType === 'buy') {
                // Calculate how much base asset we can buy with available USDT
                amount = (availableBalance * (percentage / 100)) / currentPrice;
            } else {
                // Use percentage of available base asset
                amount = availableBalance * (percentage / 100);
            }
            
            amountInput.value = amount.toFixed(8);
            calculateTradeTotal();
            
            // Visual feedback
            document.querySelectorAll('[onclick^="setPercentage"]').forEach(btn => {
                btn.classList.remove('bg-blue-100', 'dark:bg-blue-900', 'text-blue-600', 'dark:text-blue-400');
                btn.classList.add('bg-gray-100', 'dark:bg-gray-700', 'text-gray-600', 'dark:text-gray-400');
            });
            
            event.target.classList.remove('bg-gray-100', 'dark:bg-gray-700', 'text-gray-600', 'dark:text-gray-400');
            event.target.classList.add('bg-blue-100', 'dark:bg-blue-900', 'text-blue-600', 'dark:text-blue-400');
        }
        
        function getCurrentPairPrice() {
            const pair = allTradingPairs.find(p => p.base === currentTradingPair.base && p.quote === currentTradingPair.quote);
            return pair ? pair.price : 0;
        }
        
        function calculateTradeTotal() {
            const amountInput = document.getElementById('tradeAmount');
            const priceInput = document.getElementById('tradePrice');
            const orderType = document.getElementById('orderType').value;
            
            const amount = parseFloat(amountInput.value) || 0;
            let price;
            
            if (orderType === 'market') {
                price = getCurrentPairPrice();
            } else {
                price = parseFloat(priceInput.value) || getCurrentPairPrice();
                priceInput.value = price;
            }
            
            const total = amount * price;
            const fee = total * 0.001; // 0.1% fee
            const netTotal = currentTradeType === 'buy' ? total + fee : total - fee;
            
            // Update display
            const symbol = currentTradingPair.quote === 'USDT' ? '$' : currentTradingPair.quote === 'BTC' ? '₿' : 'Ξ';
            document.getElementById('tradeTotal').textContent = `${symbol}${total.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 6 })}`;
            document.getElementById('tradeFee').textContent = `${symbol}${fee.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 6 })}`;
            document.getElementById('netTotal').textContent = `${symbol}${netTotal.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 6 })}`;
            
            // Enable/disable trade button
            const tradeButton = document.getElementById('tradeButton');
            tradeButton.disabled = amount <= 0 || (orderType !== 'market' && price <= 0);
        }
        
        function updateTradingChart() {
            // Update the trading chart with new pair data
            const tradingCtx = document.getElementById('tradingChart');
            if (tradingCtx && window.tradingChart) {
                window.tradingChart.destroy();
                
                const currentPrice = getCurrentPairPrice();
                const tradingData = [];
                for (let i = 0; i < 50; i++) {
                    tradingData.push({
                        x: i,
                        y: currentPrice + Math.sin(i * 0.1) * (currentPrice * 0.02) + (Math.random() - 0.5) * (currentPrice * 0.01)
                    });
                }

                window.tradingChart = new Chart(tradingCtx, {
                    type: 'line',
                    data: {
                        datasets: [{
                            label: `${currentTradingPair.base}/${currentTradingPair.quote}`,
                            data: tradingData,
                            borderColor: '#10B981',
                            backgroundColor: 'rgba(16, 185, 129, 0.1)',
                            tension: 0.1,
                            pointRadius: 0,
                            borderWidth: 2
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                display: false
                            }
                        },
                        scales: {
                            y: {
                                position: 'right',
                                grid: {
                                    color: 'rgba(156, 163, 175, 0.1)'
                                },
                                ticks: {
                                    callback: function(value) {
                                        const symbol = currentTradingPair.quote === 'USDT' ? '$' : currentTradingPair.quote === 'BTC' ? '₿' : 'Ξ';
                                        return symbol + value.toLocaleString();
                                    }
                                }
                            },
                            x: {
                                display: false
                            }
                        },
                        interaction: {
                            intersect: false,
                            mode: 'index'
                        }
                    }
                });
            }
        }
        
        function setTradeType(type) {
            currentTradeType = type;
            const buyTab = document.getElementById('buyTab');
            const sellTab = document.getElementById('sellTab');
            const tradeButton = document.getElementById('tradeButton');
            
            if (type === 'buy') {
                buyTab.classList.add('bg-green-100', 'dark:bg-green-900', 'text-green-800', 'dark:text-green-200');
                buyTab.classList.remove('text-gray-600', 'dark:text-gray-400');
                sellTab.classList.remove('bg-red-100', 'dark:bg-red-900', 'text-red-800', 'dark:text-red-200');
                sellTab.classList.add('text-gray-600', 'dark:text-gray-400');
                tradeButton.textContent = `Buy ${currentTradingPair.base}`;
                tradeButton.classList.remove('bg-red-600', 'hover:bg-red-700');
                tradeButton.classList.add('bg-green-600', 'hover:bg-green-700');
            } else {
                sellTab.classList.add('bg-red-100', 'dark:bg-red-900', 'text-red-800', 'dark:text-red-200');
                sellTab.classList.remove('text-gray-600', 'dark:text-gray-400');
                buyTab.classList.remove('bg-green-100', 'dark:bg-green-900', 'text-green-800', 'dark:text-green-200');
                buyTab.classList.add('text-gray-600', 'dark:text-gray-400');
                tradeButton.textContent = `Sell ${currentTradingPair.base}`;
                tradeButton.classList.remove('bg-green-600', 'hover:bg-green-700');
                tradeButton.classList.add('bg-red-600', 'hover:bg-red-700');
            }
            
            calculateTradeTotal();
        }

        function executeTrade() {
            const amount = document.getElementById('tradeAmount').value;
            const orderType = document.getElementById('orderType').value;
            
            if (!amount || parseFloat(amount) <= 0) {
                showNotification('Please enter a valid amount', 'error');
                return;
            }
            
            // Simulate trade execution with realistic delay
            const tradeButton = document.getElementById('tradeButton');
            tradeButton.disabled = true;
            tradeButton.textContent = 'Processing...';
            
            setTimeout(() => {
                const pair = `${currentTradingPair.base}/${currentTradingPair.quote}`;
                const orderTypeText = orderType.charAt(0).toUpperCase() + orderType.slice(1);
                
                showNotification(
                    `🎉 ${orderTypeText} ${currentTradeType.toUpperCase()} order for ${amount} ${currentTradingPair.base} executed successfully!`,
                    'success',
                    4000
                );
                
                // Reset form
                document.getElementById('tradeAmount').value = '';
                document.getElementById('tradePrice').value = '';
                calculateTradeTotal();
                
                // Reset button
                tradeButton.disabled = false;
                tradeButton.textContent = `${currentTradeType === 'buy' ? 'Buy' : 'Sell'} ${currentTradingPair.base}`;
                
                // Reset percentage buttons
                document.querySelectorAll('[onclick^="setPercentage"]').forEach(btn => {
                    btn.classList.remove('bg-blue-100', 'dark:bg-blue-900', 'text-blue-600', 'dark:text-blue-400');
                    btn.classList.add('bg-gray-100', 'dark:bg-gray-700', 'text-gray-600', 'dark:text-gray-400');
                });
                
            }, 1500);
        }

        // Modal Functions
        function showDepositModal() {
            document.getElementById('depositModal').classList.remove('hidden');
            document.getElementById('depositModal').classList.add('flex');
        }

        function showWithdrawModal() {
            alert('Demo Mode: Withdraw functionality would be available in the full app');
        }

        function showTransferModal() {
            alert('Demo Mode: Transfer functionality would be available in the full app');
        }

        function closeModal(modalId) {
            document.getElementById(modalId).classList.add('hidden');
            document.getElementById(modalId).classList.remove('flex');
        }

        // Learning Functions
        function startDemoTrade() {
            showSection('trading');
            alert('Demo trading mode activated! Practice with virtual funds.');
        }

        function resetDemo() {
            alert('Demo portfolio reset to $100,000 virtual funds');
        }

        // Analytics Functions
        function addToWatchlist() {
            alert('Add to watchlist functionality - would open a search modal in the full app');
        }

        function createAlert() {
            alert('Create price alert functionality - would open an alert creation form in the full app');
        }

        // Market Data
        let allMarketData = [];
        let currentMarketFilter = 'all';
        let selectedCoin = null;
        let candlestickChart = null;
        let favorites = JSON.parse(localStorage.getItem('favorites') || '[]');

        // Generate comprehensive market data
        function generateMarketData() {
            const coins = [
                { name: 'Bitcoin', symbol: 'BTC', price: 43567.89, change24h: 2.34, change7d: 8.45, marketCap: '854.2B', volume: '28.4B', rank: 1, category: 'hot', color: 'from-orange-400 to-orange-600' },
                { name: 'Ethereum', symbol: 'ETH', price: 2634.56, change24h: -1.23, change7d: 12.67, marketCap: '316.8B', volume: '15.2B', rank: 2, category: 'hot', color: 'from-blue-400 to-blue-600' },
                { name: 'Tether', symbol: 'USDT', price: 1.00, change24h: 0.01, change7d: -0.02, marketCap: '91.5B', volume: '45.8B', rank: 3, category: 'all', color: 'from-green-400 to-green-600' },
                { name: 'BNB', symbol: 'BNB', price: 312.45, change24h: 3.67, change7d: 15.23, marketCap: '46.8B', volume: '1.2B', rank: 4, category: 'gainers', color: 'from-yellow-400 to-yellow-600' },
                { name: 'Solana', symbol: 'SOL', price: 98.76, change24h: 5.43, change7d: 22.18, marketCap: '42.1B', volume: '2.8B', rank: 5, category: 'hot', color: 'from-purple-400 to-purple-600' },
                { name: 'XRP', symbol: 'XRP', price: 0.6234, change24h: -2.45, change7d: -8.12, marketCap: '33.7B', volume: '1.9B', rank: 6, category: 'losers', color: 'from-gray-400 to-gray-600' },
                { name: 'USDC', symbol: 'USDC', price: 1.00, change24h: 0.00, change7d: 0.01, marketCap: '32.4B', volume: '6.7B', rank: 7, category: 'all', color: 'from-blue-400 to-blue-600' },
                { name: 'Cardano', symbol: 'ADA', price: 0.4567, change24h: 1.89, change7d: 5.67, marketCap: '16.2B', volume: '890M', rank: 8, category: 'gainers', color: 'from-blue-400 to-blue-600' },
                { name: 'Dogecoin', symbol: 'DOGE', price: 0.0823, change24h: 8.45, change7d: 18.92, marketCap: '11.8B', volume: '1.4B', rank: 9, category: 'hot', color: 'from-yellow-400 to-yellow-600' },
                { name: 'Avalanche', symbol: 'AVAX', price: 36.78, change24h: 4.23, change7d: 11.45, marketCap: '13.5B', volume: '567M', rank: 10, category: 'gainers', color: 'from-red-400 to-red-600' },
                { name: 'TRON', symbol: 'TRX', price: 0.1045, change24h: -1.67, change7d: -4.23, marketCap: '9.2B', volume: '234M', rank: 11, category: 'losers', color: 'from-red-400 to-red-600' },
                { name: 'Polygon', symbol: 'MATIC', price: 0.8934, change24h: 2.78, change7d: 9.12, marketCap: '8.3B', volume: '456M', rank: 12, category: 'gainers', color: 'from-purple-400 to-purple-600' },
                { name: 'Chainlink', symbol: 'LINK', price: 14.56, change24h: -0.89, change7d: 3.45, marketCap: '8.1B', volume: '678M', rank: 13, category: 'all', color: 'from-blue-400 to-blue-600' },
                { name: 'Litecoin', symbol: 'LTC', price: 72.34, change24h: 1.23, change7d: 6.78, marketCap: '5.4B', volume: '789M', rank: 14, category: 'gainers', color: 'from-gray-400 to-gray-600' },
                { name: 'Bitcoin Cash', symbol: 'BCH', price: 234.56, change24h: -3.45, change7d: -7.89, marketCap: '4.6B', volume: '345M', rank: 15, category: 'losers', color: 'from-green-400 to-green-600' },
                { name: 'Uniswap', symbol: 'UNI', price: 6.78, change24h: 3.45, change7d: 12.34, marketCap: '4.1B', volume: '234M', rank: 16, category: 'gainers', color: 'from-pink-400 to-pink-600' },
                { name: 'Stellar', symbol: 'XLM', price: 0.1234, change24h: -2.34, change7d: -5.67, marketCap: '3.2B', volume: '123M', rank: 17, category: 'losers', color: 'from-blue-400 to-blue-600' },
                { name: 'VeChain', symbol: 'VET', price: 0.0234, change24h: 4.56, change7d: 15.67, marketCap: '1.7B', volume: '89M', rank: 18, category: 'hot', color: 'from-blue-400 to-blue-600' },
                { name: 'Filecoin', symbol: 'FIL', price: 5.67, change24h: -1.23, change7d: 2.34, marketCap: '2.8B', volume: '156M', rank: 19, category: 'all', color: 'from-blue-400 to-blue-600' },
                { name: 'NEAR Protocol', symbol: 'NEAR', price: 2.34, change24h: 6.78, change7d: 19.45, marketCap: '2.1B', volume: '234M', rank: 20, category: 'hot', color: 'from-green-400 to-green-600' }
            ];

            // Add random variations to make it more realistic
            return coins.map(coin => ({
                ...coin,
                price: coin.price + (Math.random() - 0.5) * coin.price * 0.05,
                change24h: coin.change24h + (Math.random() - 0.5) * 2,
                change7d: coin.change7d + (Math.random() - 0.5) * 5,
                supply: `${(Math.random() * 100 + 10).toFixed(1)}M ${coin.symbol}`,
                ath: coin.price * (1.5 + Math.random() * 2)
            }));
        }

        // Market filtering functions
        function filterMarket(category) {
            currentMarketFilter = category;
            
            // Update filter buttons
            document.querySelectorAll('.market-filter-btn').forEach(btn => {
                btn.classList.remove('active', 'bg-blue-100', 'dark:bg-blue-900', 'text-blue-800', 'dark:text-blue-200');
                btn.classList.add('text-gray-600', 'dark:text-gray-400');
            });
            
            event.target.classList.add('active', 'bg-blue-100', 'dark:bg-blue-900', 'text-blue-800', 'dark:text-blue-200');
            event.target.classList.remove('text-gray-600', 'dark:text-gray-400');
            
            populateMarketTable();
        }

        function populateMarketTable() {
            let filteredData = allMarketData;
            
            // Apply category filter
            if (currentMarketFilter === 'hot') {
                filteredData = allMarketData.filter(coin => coin.category === 'hot');
            } else if (currentMarketFilter === 'favorites') {
                filteredData = allMarketData.filter(coin => favorites.includes(coin.symbol));
            } else if (currentMarketFilter === 'gainers') {
                filteredData = allMarketData.filter(coin => coin.change24h > 0).sort((a, b) => b.change24h - a.change24h);
            } else if (currentMarketFilter === 'losers') {
                filteredData = allMarketData.filter(coin => coin.change24h < 0).sort((a, b) => a.change24h - b.change24h);
            }
            
            // Apply search filter
            const searchTerm = document.getElementById('searchInput')?.value.toLowerCase() || '';
            if (searchTerm) {
                filteredData = filteredData.filter(coin => 
                    coin.name.toLowerCase().includes(searchTerm) || 
                    coin.symbol.toLowerCase().includes(searchTerm)
                );
            }

            const tableBody = document.getElementById('marketTable');
            if (!tableBody) return;

            tableBody.innerHTML = filteredData.map(coin => `
                <tr class="border-b border-gray-100 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer" onclick="selectCoin('${coin.symbol}')">
                    <td class="py-3 text-sm text-gray-600 dark:text-gray-400">${coin.rank}</td>
                    <td class="py-3">
                        <div class="flex items-center space-x-3">
                            <div class="w-8 h-8 bg-gradient-to-r ${coin.color} rounded-full flex items-center justify-center">
                                <span class="text-white text-xs font-bold">${coin.symbol.charAt(0)}</span>
                            </div>
                            <div>
                                <p class="font-medium text-gray-900 dark:text-white">${coin.name}</p>
                                <p class="text-sm text-gray-500 dark:text-gray-400">${coin.symbol}</p>
                            </div>
                        </div>
                    </td>
                    <td class="py-3 text-right font-medium text-gray-900 dark:text-white">$${coin.price.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 6 })}</td>
                    <td class="py-3 text-right">
                        <span class="${coin.change24h >= 0 ? 'text-green-600 dark:text-green-400' : 'text-red-600 dark:text-red-400'} font-medium">
                            ${coin.change24h >= 0 ? '+' : ''}${coin.change24h.toFixed(2)}%
                        </span>
                    </td>
                    <td class="py-3 text-right">
                        <span class="${coin.change7d >= 0 ? 'text-green-600 dark:text-green-400' : 'text-red-600 dark:text-red-400'} font-medium">
                            ${coin.change7d >= 0 ? '+' : ''}${coin.change7d.toFixed(2)}%
                        </span>
                    </td>
                    <td class="py-3 text-right text-sm text-gray-600 dark:text-gray-400">$${coin.marketCap}</td>
                    <td class="py-3 text-right text-sm text-gray-600 dark:text-gray-400">$${coin.volume}</td>
                    <td class="py-3 text-right">
                        <button onclick="event.stopPropagation(); selectCoinAndTrade('${coin.symbol}')" class="bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm font-medium transition-colors">
                            Trade
                        </button>
                    </td>
                </tr>
            `).join('');
        }

        // Coin selection and chart functions
        function selectCoin(symbol) {
            selectedCoin = allMarketData.find(coin => coin.symbol === symbol);
            if (!selectedCoin) return;
            
            updateSelectedCoinDisplay();
            updateCandlestickChart();
        }

        function updateSelectedCoinDisplay() {
            if (!selectedCoin) return;
            
            document.getElementById('selectedCoinIcon').innerHTML = `<span class="text-white font-bold text-sm">${selectedCoin.symbol.charAt(0)}</span>`;
            document.getElementById('selectedCoinIcon').className = `w-8 h-8 bg-gradient-to-r ${selectedCoin.color} rounded-full flex items-center justify-center`;
            document.getElementById('selectedCoinName').textContent = selectedCoin.name;
            document.getElementById('selectedCoinSymbol').textContent = selectedCoin.symbol;
            document.getElementById('selectedCoinPrice').textContent = `$${selectedCoin.price.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 6 })}`;
            
            const changeElement = document.getElementById('selectedCoinChange');
            changeElement.textContent = `${selectedCoin.change24h >= 0 ? '+' : ''}${selectedCoin.change24h.toFixed(2)}% (24h)`;
            changeElement.className = `text-sm ${selectedCoin.change24h >= 0 ? 'text-green-600 dark:text-green-400' : 'text-red-600 dark:text-red-400'}`;
            
            document.getElementById('selectedCoinMarketCap').textContent = `$${selectedCoin.marketCap}`;
            document.getElementById('selectedCoinVolume').textContent = `$${selectedCoin.volume}`;
            document.getElementById('selectedCoinSupply').textContent = selectedCoin.supply;
            document.getElementById('selectedCoinATH').textContent = `$${selectedCoin.ath.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;
        }

        // Generate candlestick data
        function generateCandlestickData(basePrice, intervals = 50) {
            const data = [];
            let currentPrice = basePrice;
            
            for (let i = 0; i < intervals; i++) {
                const open = currentPrice;
                const volatility = basePrice * 0.02; // 2% volatility
                const change = (Math.random() - 0.5) * volatility;
                const close = open + change;
                
                const high = Math.max(open, close) + Math.random() * volatility * 0.5;
                const low = Math.min(open, close) - Math.random() * volatility * 0.5;
                
                data.push({
                    x: i,
                    o: open,
                    h: high,
                    l: low,
                    c: close
                });
                
                currentPrice = close;
            }
            
            return data;
        }

        function updateCandlestickChart() {
            if (!selectedCoin) return;
            
            const ctx = document.getElementById('candlestickChart');
            if (!ctx) return;
            
            if (candlestickChart) {
                candlestickChart.destroy();
            }
            
            const candlestickData = generateCandlestickData(selectedCoin.price);
            
            candlestickChart = new Chart(ctx, {
                type: 'candlestick',
                data: {
                    datasets: [{
                        label: `${selectedCoin.symbol}/USDT`,
                        data: candlestickData,
                        borderColor: selectedCoin.change24h >= 0 ? '#10B981' : '#EF4444',
                        backgroundColor: selectedCoin.change24h >= 0 ? 'rgba(16, 185, 129, 0.1)' : 'rgba(239, 68, 68, 0.1)'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            position: 'right',
                            grid: {
                                color: 'rgba(156, 163, 175, 0.1)'
                            },
                            ticks: {
                                callback: function(value) {
                                    return '$' + value.toLocaleString();
                                }
                            }
                        },
                        x: {
                            display: false
                        }
                    },
                    interaction: {
                        intersect: false,
                        mode: 'index'
                    }
                }
            });
        }

        function updateChartInterval(interval) {
            // Update interval buttons
            document.querySelectorAll('.chart-interval-btn').forEach(btn => {
                btn.classList.remove('active', 'bg-blue-100', 'dark:bg-blue-900', 'text-blue-800', 'dark:text-blue-200');
                btn.classList.add('text-gray-600', 'dark:text-gray-400');
            });
            
            event.target.classList.add('active', 'bg-blue-100', 'dark:bg-blue-900', 'text-blue-800', 'dark:text-blue-200');
            event.target.classList.remove('text-gray-600', 'dark:text-gray-400');
            
            // Regenerate chart with new interval data
            updateCandlestickChart();
            
            showNotification(`Chart updated to ${interval} interval`, 'info', 2000);
        }

        function addToFavorites() {
            if (!selectedCoin) return;
            
            const symbol = selectedCoin.symbol;
            const index = favorites.indexOf(symbol);
            
            if (index === -1) {
                favorites.push(symbol);
                showNotification(`${symbol} added to favorites! ⭐`, 'success');
            } else {
                favorites.splice(index, 1);
                showNotification(`${symbol} removed from favorites`, 'info');
            }
            
            localStorage.setItem('favorites', JSON.stringify(favorites));
            
            // Update favorites filter if active
            if (currentMarketFilter === 'favorites') {
                populateMarketTable();
            }
        }

        function selectCoinAndTrade(symbol) {
            selectCoin(symbol);
            showSection('trading');
            showNotification(`Switched to ${symbol} trading pair`, 'success');
        }

        function startTrading() {
            if (selectedCoin) {
                showSection('trading');
                showNotification(`Started trading ${selectedCoin.symbol}/USDT`, 'success');
            }
        }

        // Search functionality
        function setupSearch() {
            const searchInput = document.getElementById('searchInput');
            if (searchInput) {
                searchInput.addEventListener('input', () => {
                    populateMarketTable();
                });
            }
        }

        // Data Population
        function populateCryptoTable() {
            const cryptos = [
                { rank: 1, name: 'Bitcoin', symbol: 'BTC', price: 43567.89, change: 2.34, marketCap: '854.2B' },
                { rank: 2, name: 'Ethereum', symbol: 'ETH', price: 2634.56, change: -1.23, marketCap: '316.8B' },
                { rank: 3, name: 'Tether', symbol: 'USDT', price: 1.00, change: 0.01, marketCap: '91.5B' },
                { rank: 4, name: 'BNB', symbol: 'BNB', price: 312.45, change: 3.67, marketCap: '46.8B' },
                { rank: 5, name: 'Solana', symbol: 'SOL', price: 98.76, change: 5.43, marketCap: '42.1B' }
            ];

            const tableBody = document.getElementById('cryptoTable');
            tableBody.innerHTML = cryptos.map(crypto => `
                <tr class="border-b border-gray-100 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700">
                    <td class="py-3 text-sm text-gray-600 dark:text-gray-400">${crypto.rank}</td>
                    <td class="py-3">
                        <div class="flex items-center space-x-3">
                            <div class="w-8 h-8 bg-gradient-to-r from-orange-400 to-orange-600 rounded-full flex items-center justify-center">
                                <span class="text-white text-xs font-bold">${crypto.symbol.charAt(0)}</span>
                            </div>
                            <div>
                                <p class="font-medium text-gray-900 dark:text-white">${crypto.name}</p>
                                <p class="text-sm text-gray-500 dark:text-gray-400">${crypto.symbol}</p>
                            </div>
                        </div>
                    </td>
                    <td class="py-3 text-right font-medium text-gray-900 dark:text-white">$${crypto.price.toLocaleString()}</td>
                    <td class="py-3 text-right">
                        <span class="${crypto.change >= 0 ? 'text-green-600 dark:text-green-400' : 'text-red-600 dark:text-red-400'} font-medium">
                            ${crypto.change >= 0 ? '+' : ''}${crypto.change}%
                        </span>
                    </td>
                    <td class="py-3 text-right text-sm text-gray-600 dark:text-gray-400">$${crypto.marketCap}</td>
                    <td class="py-3 text-right">
                        <button onclick="showSection('trading')" class="bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm font-medium transition-colors">
                            Trade
                        </button>
                    </td>
                </tr>
            `).join('');
        }

        function populateAssetList() {
            const assets = [
                { name: 'Bitcoin', symbol: 'BTC', amount: '0.28456', value: '$12,398.45', change: 2.34 },
                { name: 'Ethereum', symbol: 'ETH', amount: '5.67891', value: '$14,967.23', change: -1.23 },
                { name: 'USDT', symbol: 'USDT', amount: '2,456.78', value: '$2,456.78', change: 0.01 }
            ];

            const assetList = document.getElementById('assetList');
            assetList.innerHTML = assets.map(asset => `
                <div class="flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg">
                    <div class="flex items-center space-x-3">
                        <div class="w-10 h-10 bg-gradient-to-r from-blue-400 to-blue-600 rounded-full flex items-center justify-center">
                            <span class="text-white font-bold text-sm">${asset.symbol.charAt(0)}</span>
                        </div>
                        <div>
                            <p class="font-medium text-gray-900 dark:text-white">${asset.name}</p>
                            <p class="text-sm text-gray-600 dark:text-gray-400">${asset.amount} ${asset.symbol}</p>
                        </div>
                    </div>
                    <div class="text-right">
                        <p class="font-medium text-gray-900 dark:text-white">${asset.value}</p>
                        <p class="text-sm ${asset.change >= 0 ? 'text-green-600 dark:text-green-400' : 'text-red-600 dark:text-red-400'}">
                            ${asset.change >= 0 ? '+' : ''}${asset.change}%
                        </p>
                    </div>
                </div>
            `).join('');
        }

        function populateTransactionHistory() {
            const transactions = [
                { type: 'Buy', asset: 'BTC', amount: '0.05', price: '$2,178.39', time: '2 hours ago', status: 'Completed' },
                { type: 'Sell', asset: 'ETH', amount: '1.2', price: '$3,161.47', time: '1 day ago', status: 'Completed' },
                { type: 'Buy', asset: 'USDT', amount: '500', price: '$500.00', time: '3 days ago', status: 'Completed' }
            ];

            const transactionHistory = document.getElementById('transactionHistory');
            transactionHistory.innerHTML = transactions.map(tx => `
                <div class="flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg">
                    <div class="flex items-center space-x-3">
                        <div class="w-8 h-8 ${tx.type === 'Buy' ? 'bg-green-100 dark:bg-green-900' : 'bg-red-100 dark:bg-red-900'} rounded-full flex items-center justify-center">
                            <span class="${tx.type === 'Buy' ? 'text-green-600 dark:text-green-400' : 'text-red-600 dark:text-red-400'} text-xs font-bold">
                                ${tx.type === 'Buy' ? '↗' : '↙'}
                            </span>
                        </div>
                        <div>
                            <p class="font-medium text-gray-900 dark:text-white">${tx.type} ${tx.asset}</p>
                            <p class="text-sm text-gray-600 dark:text-gray-400">${tx.amount} ${tx.asset} • ${tx.time}</p>
                        </div>
                    </div>
                    <div class="text-right">
                        <p class="font-medium text-gray-900 dark:text-white">${tx.price}</p>
                        <p class="text-sm text-green-600 dark:text-green-400">${tx.status}</p>
                    </div>
                </div>
            `).join('');
        }

        function populateWatchlist() {
            const watchlist = [
                { name: 'BTC/USDT', price: '$43,567.89', change: 2.34 },
                { name: 'ETH/USDT', price: '$2,634.56', change: -1.23 },
                { name: 'SOL/USDT', price: '$98.76', change: 5.43 }
            ];

            const watchlistElement = document.getElementById('watchlist');
            watchlistElement.innerHTML = watchlist.map(item => `
                <div class="flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg">
                    <div>
                        <p class="font-medium text-gray-900 dark:text-white">${item.name}</p>
                        <p class="text-sm text-gray-600 dark:text-gray-400">${item.price}</p>
                    </div>
                    <span class="${item.change >= 0 ? 'text-green-600 dark:text-green-400' : 'text-red-600 dark:text-red-400'} font-medium">
                        ${item.change >= 0 ? '+' : ''}${item.change}%
                    </span>
                </div>
            `).join('');
        }

        function populateAlerts() {
            const alerts = [
                { pair: 'BTC/USDT', condition: 'Above $45,000', status: 'Active' },
                { pair: 'ETH/USDT', condition: 'Below $2,500', status: 'Triggered' },
                { pair: 'SOL/USDT', condition: 'Above $100', status: 'Active' }
            ];

            const alertsList = document.getElementById('alertsList');
            alertsList.innerHTML = alerts.map(alert => `
                <div class="flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg">
                    <div>
                        <p class="font-medium text-gray-900 dark:text-white">${alert.pair}</p>
                        <p class="text-sm text-gray-600 dark:text-gray-400">${alert.condition}</p>
                    </div>
                    <span class="${alert.status === 'Active' ? 'bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200' : 'bg-orange-100 dark:bg-orange-900 text-orange-800 dark:text-orange-200'} px-2 py-1 rounded-full text-xs font-medium">
                        ${alert.status}
                    </span>
                </div>
            `).join('');
        }

        function populateOrderBook() {
            const sellOrders = [
                { price: 43580.25, amount: 0.15432, total: 6724.89 },
                { price: 43575.80, amount: 0.28901, total: 12598.45 },
                { price: 43572.15, amount: 0.45678, total: 19912.34 },
                { price: 43570.00, amount: 0.67234, total: 29289.67 },
                { price: 43568.90, amount: 0.89123, total: 38845.23 }
            ];

            const buyOrders = [
                { price: 43565.50, amount: 0.23456, total: 10223.45 },
                { price: 43563.25, amount: 0.34567, total: 15067.89 },
                { price: 43560.80, amount: 0.56789, total: 24734.56 },
                { price: 43558.40, amount: 0.78901, total: 34389.12 },
                { price: 43555.90, amount: 0.91234, total: 39756.78 }
            ];

            const sellOrdersElement = document.getElementById('sellOrders');
            const buyOrdersElement = document.getElementById('buyOrders');

            sellOrdersElement.innerHTML = sellOrders.map(order => `
                <div class="flex justify-between text-xs py-1 hover:bg-red-50 dark:hover:bg-red-900/20 cursor-pointer">
                    <span class="text-red-600 dark:text-red-400 font-mono">${order.price.toFixed(2)}</span>
                    <span class="text-gray-600 dark:text-gray-400 font-mono">${order.amount.toFixed(5)}</span>
                    <span class="text-gray-600 dark:text-gray-400 font-mono">${order.total.toFixed(2)}</span>
                </div>
            `).join('');

            buyOrdersElement.innerHTML = buyOrders.map(order => `
                <div class="flex justify-between text-xs py-1 hover:bg-green-50 dark:hover:bg-green-900/20 cursor-pointer">
                    <span class="text-green-600 dark:text-green-400 font-mono">${order.price.toFixed(2)}</span>
                    <span class="text-gray-600 dark:text-gray-400 font-mono">${order.amount.toFixed(5)}</span>
                    <span class="text-gray-600 dark:text-gray-400 font-mono">${order.total.toFixed(2)}</span>
                </div>
            `).join('');
        }

        // Real-time price updates
        function updatePrices() {
            const currentPriceElement = document.getElementById('currentPrice');
            const priceChangeElement = document.getElementById('priceChange');
            
            if (currentPriceElement) {
                const currentPrice = parseFloat(currentPriceElement.textContent.replace('$', '').replace(',', ''));
                const change = (Math.random() - 0.5) * 100; // Random price change
                const newPrice = currentPrice + change;
                const percentChange = (change / currentPrice) * 100;
                
                currentPriceElement.textContent = `$${newPrice.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;
                priceChangeElement.textContent = `${percentChange >= 0 ? '+' : ''}${percentChange.toFixed(2)}%`;
                
                // Update colors based on change
                if (percentChange >= 0) {
                    currentPriceElement.className = 'text-2xl font-bold text-green-600 dark:text-green-400 price-up';
                    priceChangeElement.className = 'text-sm text-green-600 dark:text-green-400';
                } else {
                    currentPriceElement.className = 'text-2xl font-bold text-red-600 dark:text-red-400 price-down';
                    priceChangeElement.className = 'text-sm text-red-600 dark:text-red-400';
                }
                
                // Update crypto table prices
                updateCryptoTablePrices();
                
                // Update order book
                populateOrderBook();
            }
        }

        function updateCryptoTablePrices() {
            const rows = document.querySelectorAll('#cryptoTable tr');
            rows.forEach(row => {
                const priceCell = row.querySelector('td:nth-child(3)');
                const changeCell = row.querySelector('td:nth-child(4)');
                
                if (priceCell && changeCell) {
                    const currentPrice = parseFloat(priceCell.textContent.replace('$', '').replace(',', ''));
                    const change = (Math.random() - 0.5) * 5; // Smaller random changes
                    const newPrice = currentPrice + change;
                    const percentChange = (change / currentPrice) * 100;
                    
                    priceCell.textContent = `$${newPrice.toLocaleString()}`;
                    changeCell.innerHTML = `
                        <span class="${percentChange >= 0 ? 'text-green-600 dark:text-green-400' : 'text-red-600 dark:text-red-400'} font-medium">
                            ${percentChange >= 0 ? '+' : ''}${percentChange.toFixed(2)}%
                        </span>
                    `;
                }
            });
        }

        // Chart initialization
        function initializeCharts() {
            // Portfolio Chart
            const portfolioCtx = document.getElementById('portfolioChart');
            if (portfolioCtx) {
                new Chart(portfolioCtx, {
                    type: 'line',
                    data: {
                        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                        datasets: [{
                            label: 'Portfolio Value',
                            data: [20000, 22000, 21500, 23000, 24000, 24567],
                            borderColor: '#3B82F6',
                            backgroundColor: 'rgba(59, 130, 246, 0.1)',
                            tension: 0.4,
                            fill: true
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                display: false
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: false,
                                grid: {
                                    color: 'rgba(156, 163, 175, 0.1)'
                                }
                            },
                            x: {
                                grid: {
                                    color: 'rgba(156, 163, 175, 0.1)'
                                }
                            }
                        }
                    }
                });
            }

            // Trading Chart
            const tradingCtx = document.getElementById('tradingChart');
            if (tradingCtx) {
                const tradingData = [];
                for (let i = 0; i < 50; i++) {
                    tradingData.push({
                        x: i,
                        y: 43500 + Math.sin(i * 0.1) * 200 + Math.random() * 100
                    });
                }

                new Chart(tradingCtx, {
                    type: 'line',
                    data: {
                        datasets: [{
                            label: 'BTC/USDT',
                            data: tradingData,
                            borderColor: '#10B981',
                            backgroundColor: 'rgba(16, 185, 129, 0.1)',
                            tension: 0.1,
                            pointRadius: 0,
                            borderWidth: 2
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                display: false
                            }
                        },
                        scales: {
                            y: {
                                position: 'right',
                                grid: {
                                    color: 'rgba(156, 163, 175, 0.1)'
                                }
                            },
                            x: {
                                display: false
                            }
                        },
                        interaction: {
                            intersect: false,
                            mode: 'index'
                        }
                    }
                });
            }

            // Performance Chart
            const performanceCtx = document.getElementById('performanceChart');
            if (performanceCtx) {
                new Chart(performanceCtx, {
                    type: 'line',
                    data: {
                        labels: Array.from({length: 30}, (_, i) => i + 1),
                        datasets: [{
                            label: 'Portfolio Performance',
                            data: Array.from({length: 30}, () => Math.random() * 1000 + 23000),
                            borderColor: '#8B5CF6',
                            backgroundColor: 'rgba(139, 92, 246, 0.1)',
                            tension: 0.4,
                            fill: true
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                display: false
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: false,
                                grid: {
                                    color: 'rgba(156, 163, 175, 0.1)'
                                }
                            },
                            x: {
                                grid: {
                                    color: 'rgba(156, 163, 175, 0.1)'
                                }
                            }
                        }
                    }
                });
            }
        }

        // Enhanced trading functions
        function updateTradeInputs() {
            const amountInput = document.querySelector('input[placeholder="0.00"]');
            const priceInput = document.querySelector('input[placeholder="43,567.89"]');
            
            if (amountInput && priceInput) {
                amountInput.addEventListener('input', calculateTotal);
                priceInput.addEventListener('input', calculateTotal);
            }
        }

        function calculateTotal() {
            const amountInput = document.querySelector('input[placeholder="0.00"]');
            const priceInput = document.querySelector('input[placeholder="43,567.89"]');
            const totalElement = document.querySelector('p:contains("Total:")');
            
            if (amountInput && priceInput && totalElement) {
                const amount = parseFloat(amountInput.value) || 0;
                const price = parseFloat(priceInput.value.replace(',', '')) || 0;
                const total = amount * price;
                
                totalElement.innerHTML = `Total: <span class="font-medium">$${total.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}</span>`;
            }
        }

        // Enhanced verification with better UX
        function enhanceVerificationUX() {
            // Add drag and drop functionality
            const uploadAreas = document.querySelectorAll('.upload-area');
            
            uploadAreas.forEach(area => {
                area.addEventListener('dragover', (e) => {
                    e.preventDefault();
                    area.classList.add('border-blue-500', 'bg-blue-50', 'dark:bg-blue-900/20');
                });
                
                area.addEventListener('dragleave', (e) => {
                    e.preventDefault();
                    area.classList.remove('border-blue-500', 'bg-blue-50', 'dark:bg-blue-900/20');
                });
                
                area.addEventListener('drop', (e) => {
                    e.preventDefault();
                    area.classList.remove('border-blue-500', 'bg-blue-50', 'dark:bg-blue-900/20');
                    
                    const files = e.dataTransfer.files;
                    if (files.length > 0) {
                        const input = area.querySelector('input[type="file"]');
                        if (input) {
                            input.files = files;
                            input.dispatchEvent(new Event('change'));
                        }
                    }
                });
            });
        }

        // Enhanced notifications system
        function showNotification(message, type = 'success', duration = 3000) {
            const notification = document.createElement('div');
            const bgColor = type === 'success' ? 'bg-green-500' : type === 'error' ? 'bg-red-500' : 'bg-blue-500';
            
            notification.className = `fixed top-4 right-4 ${bgColor} text-white px-6 py-3 rounded-lg shadow-lg z-50 transform translate-x-full transition-transform duration-300`;
            notification.innerHTML = `
                <div class="flex items-center space-x-2">
                    <span>${message}</span>
                    <button onclick="this.parentElement.parentElement.remove()" class="ml-2 text-white hover:text-gray-200">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                    </button>
                </div>
            `;
            
            document.body.appendChild(notification);
            
            // Animate in
            setTimeout(() => {
                notification.classList.remove('translate-x-full');
            }, 100);
            
            // Auto remove
            setTimeout(() => {
                notification.classList.add('translate-x-full');
                setTimeout(() => {
                    if (notification.parentElement) {
                        notification.remove();
                    }
                }, 300);
            }, duration);
        }

        // Enhanced modal system
        function enhanceModals() {
            // Close modals on escape key
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape') {
                    const openModal = document.querySelector('.fixed.flex');
                    if (openModal) {
                        openModal.classList.add('hidden');
                        openModal.classList.remove('flex');
                    }
                }
            });
            
            // Close modals on backdrop click
            document.querySelectorAll('.fixed').forEach(modal => {
                modal.addEventListener('click', (e) => {
                    if (e.target === modal) {
                        modal.classList.add('hidden');
                        modal.classList.remove('flex');
                    }
                });
            });
        }

        // Enhanced learning progress tracking
        function trackLearningProgress() {
            let completedLessons = parseInt(localStorage.getItem('completedLessons') || '12');
            let timeSpent = parseFloat(localStorage.getItem('timeSpent') || '3.2');
            
            // Update progress display
            function updateProgress() {
                const progressBar = document.querySelector('.bg-blue-500[style*="width: 41%"]');
                const lessonsElement = document.querySelector('p.text-2xl:contains("12")');
                const timeElement = document.querySelector('p.text-2xl:contains("3.2h")');
                
                if (progressBar) {
                    const progress = Math.min((completedLessons / 30) * 100, 100);
                    progressBar.style.width = `${progress}%`;
                }
                
                if (lessonsElement) {
                    lessonsElement.textContent = completedLessons.toString();
                }
                
                if (timeElement) {
                    timeElement.textContent = `${timeSpent.toFixed(1)}h`;
                }
            }
            
            updateProgress();
            
            // Simulate learning progress
            setInterval(() => {
                if (Math.random() < 0.1) { // 10% chance every interval
                    completedLessons++;
                    timeSpent += 0.1;
                    localStorage.setItem('completedLessons', completedLessons.toString());
                    localStorage.setItem('timeSpent', timeSpent.toString());
                    updateProgress();
                    
                    if (completedLessons % 5 === 0) {
                        showNotification(`🎉 Milestone reached! ${completedLessons} lessons completed!`);
                    }
                }
            }, 10000); // Check every 10 seconds
        }

        // Enhanced portfolio tracking
        function trackPortfolio() {
            let portfolioValue = 24567.89;
            let dailyChange = 456.78;
            
            function updatePortfolioDisplay() {
                const valueElements = document.querySelectorAll('p:contains("$24,567.89")');
                const changeElements = document.querySelectorAll('p:contains("+$456.78")');
                
                valueElements.forEach(el => {
                    if (el.textContent.includes('$24,567.89')) {
                        el.textContent = `$${portfolioValue.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;
                    }
                });
                
                changeElements.forEach(el => {
                    if (el.textContent.includes('+$456.78')) {
                        const changePercent = ((dailyChange / portfolioValue) * 100).toFixed(2);
                        el.textContent = `${dailyChange >= 0 ? '+' : ''}$${Math.abs(dailyChange).toFixed(2)} (${dailyChange >= 0 ? '+' : ''}${changePercent}%)`;
                        el.className = dailyChange >= 0 ? 'text-sm text-green-600 dark:text-green-400' : 'text-sm text-red-600 dark:text-red-400';
                    }
                });
            }
            
            // Simulate portfolio changes
            setInterval(() => {
                const change = (Math.random() - 0.5) * 100;
                portfolioValue += change;
                dailyChange += change;
                updatePortfolioDisplay();
            }, 5000);
        }

        // Authentication System
        let currentUser = null;
        let isAuthenticated = false;
        let users = JSON.parse(localStorage.getItem('jamiCryptoUsers') || '[]');
        
        // Demo users for testing
        const demoUsers = [
            { id: 1, name: 'John Doe', email: 'demo@jamicrypto.com', password: 'demo123', verified: true },
            { id: 2, name: 'Jane Smith', email: 'jane@example.com', password: 'password123', verified: false }
        ];
        
        // Initialize demo users if none exist
        if (users.length === 0) {
            users = demoUsers;
            localStorage.setItem('jamiCryptoUsers', JSON.stringify(users));
        }
        
        // Authentication Functions
        function showAuthModal(type = 'signin') {
            document.getElementById('authModal').classList.remove('hidden');
            document.getElementById('authModal').classList.add('flex');
            
            if (type === 'signin') {
                switchToSignIn();
            } else {
                switchToSignUp();
            }
        }
        
        function switchToSignIn() {
            document.getElementById('authModalTitle').textContent = 'Sign In';
            document.getElementById('signinForm').classList.remove('hidden');
            document.getElementById('signupForm').classList.add('hidden');
            document.getElementById('forgotPasswordForm').classList.add('hidden');
        }
        
        function switchToSignUp() {
            document.getElementById('authModalTitle').textContent = 'Create Account';
            document.getElementById('signinForm').classList.add('hidden');
            document.getElementById('signupForm').classList.remove('hidden');
            document.getElementById('forgotPasswordForm').classList.add('hidden');
        }
        
        function showForgotPassword() {
            document.getElementById('authModalTitle').textContent = 'Reset Password';
            document.getElementById('signinForm').classList.add('hidden');
            document.getElementById('signupForm').classList.add('hidden');
            document.getElementById('forgotPasswordForm').classList.remove('hidden');
        }
        
        function togglePassword(inputId) {
            const input = document.getElementById(inputId);
            const type = input.getAttribute('type') === 'password' ? 'text' : 'password';
            input.setAttribute('type', type);
        }
        
        function validateEmail(email) {
            const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return re.test(email);
        }
        
        function validatePassword(password) {
            const minLength = password.length >= 8;
            const hasUpper = /[A-Z]/.test(password);
            const hasLower = /[a-z]/.test(password);
            const hasNumber = /\d/.test(password);
            const hasSpecial = /[!@#$%^&*(),.?":{}|<>]/.test(password);
            
            const score = [minLength, hasUpper, hasLower, hasNumber, hasSpecial].filter(Boolean).length;
            
            return {
                isValid: score >= 3 && minLength,
                score: score,
                strength: score <= 2 ? 'Weak' : score <= 3 ? 'Fair' : score <= 4 ? 'Good' : 'Strong'
            };
        }
        
        function updatePasswordStrength() {
            const password = document.getElementById('signupPassword').value;
            const validation = validatePassword(password);
            const strengthBar = document.getElementById('passwordStrengthBar');
            const strengthText = document.getElementById('passwordStrengthText');
            
            const colors = {
                'Weak': 'bg-red-500',
                'Fair': 'bg-orange-500',
                'Good': 'bg-yellow-500',
                'Strong': 'bg-green-500'
            };
            
            const widths = {
                'Weak': '25%',
                'Fair': '50%',
                'Good': '75%',
                'Strong': '100%'
            };
            
            strengthBar.className = `h-full transition-all duration-300 ${colors[validation.strength]}`;
            strengthBar.style.width = widths[validation.strength];
            strengthText.textContent = validation.strength;
        }
        
        function handleSignIn() {
            const email = document.getElementById('signinEmail').value.trim();
            const password = document.getElementById('signinPassword').value;
            const rememberMe = document.getElementById('rememberMe').checked;
            
            // Validation
            if (!email || !password) {
                showNotification('Please fill in all fields', 'error');
                return;
            }
            
            if (!validateEmail(email)) {
                showNotification('Please enter a valid email address', 'error');
                return;
            }
            
            // Find user
            const user = users.find(u => u.email === email && u.password === password);
            
            if (!user) {
                showNotification('Invalid email or password', 'error');
                return;
            }
            
            // Successful login
            currentUser = user;
            isAuthenticated = true;
            
            // Store session
            const sessionData = {
                userId: user.id,
                email: user.email,
                name: user.name,
                loginTime: new Date().toISOString(),
                rememberMe: rememberMe
            };
            
            if (rememberMe) {
                localStorage.setItem('jamiCryptoSession', JSON.stringify(sessionData));
            } else {
                sessionStorage.setItem('jamiCryptoSession', JSON.stringify(sessionData));
            }
            
            // Update UI
            updateAuthenticatedUI();
            closeModal('authModal');
            showNotification(`Welcome back, ${user.name}! 🎉`, 'success');
            
            // Clear form
            document.getElementById('signinEmail').value = '';
            document.getElementById('signinPassword').value = '';
        }
        
        function handleSignUp() {
            const name = document.getElementById('signupName').value.trim();
            const email = document.getElementById('signupEmail').value.trim();
            const password = document.getElementById('signupPassword').value;
            const confirmPassword = document.getElementById('confirmPassword').value;
            const agreeTerms = document.getElementById('agreeTerms').checked;
            
            // Validation
            if (!name || !email || !password || !confirmPassword) {
                showNotification('Please fill in all fields', 'error');
                return;
            }
            
            if (!validateEmail(email)) {
                showNotification('Please enter a valid email address', 'error');
                return;
            }
            
            const passwordValidation = validatePassword(password);
            if (!passwordValidation.isValid) {
                showNotification('Password must be at least 8 characters with mixed case, numbers, and symbols', 'error');
                return;
            }
            
            if (password !== confirmPassword) {
                showNotification('Passwords do not match', 'error');
                return;
            }
            
            if (!agreeTerms) {
                showNotification('Please agree to the Terms of Service and Privacy Policy', 'error');
                return;
            }
            
            // Check if user already exists
            if (users.find(u => u.email === email)) {
                showNotification('An account with this email already exists', 'error');
                return;
            }
            
            // Create new user
            const newUser = {
                id: Date.now(),
                name: name,
                email: email,
                password: password,
                verified: false,
                createdAt: new Date().toISOString()
            };
            
            users.push(newUser);
            localStorage.setItem('jamiCryptoUsers', JSON.stringify(users));
            
            // Auto sign in
            currentUser = newUser;
            isAuthenticated = true;
            
            // Store session
            const sessionData = {
                userId: newUser.id,
                email: newUser.email,
                name: newUser.name,
                loginTime: new Date().toISOString(),
                rememberMe: false
            };
            
            sessionStorage.setItem('jamiCryptoSession', JSON.stringify(sessionData));
            
            // Update UI
            updateAuthenticatedUI();
            closeModal('authModal');
            showNotification(`Account created successfully! Welcome to JamiCrypto, ${name}! 🚀`, 'success');
            
            // Clear form
            clearSignUpForm();
            
            // Show verification prompt after a delay
            setTimeout(() => {
                showNotification('Complete your identity verification to unlock all features', 'info', 5000);
            }, 3000);
        }
        
        function handleForgotPassword() {
            const email = document.getElementById('forgotEmail').value.trim();
            
            if (!email) {
                showNotification('Please enter your email address', 'error');
                return;
            }
            
            if (!validateEmail(email)) {
                showNotification('Please enter a valid email address', 'error');
                return;
            }
            
            // Check if user exists
            const user = users.find(u => u.email === email);
            
            if (!user) {
                showNotification('No account found with this email address', 'error');
                return;
            }
            
            // Simulate sending reset email
            showNotification('Password reset link sent to your email! Check your inbox.', 'success');
            
            // Clear form and switch back to sign in
            document.getElementById('forgotEmail').value = '';
            setTimeout(() => {
                switchToSignIn();
            }, 2000);
        }
        
        function handleSocialLogin(provider) {
            // Simulate social login
            showNotification(`${provider.charAt(0).toUpperCase() + provider.slice(1)} login is not available in demo mode`, 'info');
        }
        
        function clearSignUpForm() {
            document.getElementById('signupName').value = '';
            document.getElementById('signupEmail').value = '';
            document.getElementById('signupPassword').value = '';
            document.getElementById('confirmPassword').value = '';
            document.getElementById('agreeTerms').checked = false;
            
            // Reset password strength indicator
            document.getElementById('passwordStrengthBar').style.width = '0%';
            document.getElementById('passwordStrengthText').textContent = 'Weak';
        }
        
        function updateAuthenticatedUI() {
            if (isAuthenticated && currentUser) {
                // Update navigation
                const signInButton = document.querySelector('button[onclick="showAuthModal(\'signin\')"]');
                if (signInButton) {
                    signInButton.innerHTML = `
                        <div class="flex items-center space-x-2">
                            <div class="w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center">
                                <span class="text-white text-sm font-medium">${currentUser.name.charAt(0).toUpperCase()}</span>
                            </div>
                            <span class="hidden md:block">${currentUser.name.split(' ')[0]}</span>
                        </div>
                    `;
                    signInButton.onclick = showUserMenu;
                }
                
                // Update demo mode indicator
                const demoIndicator = document.querySelector('.bg-green-100');
                if (demoIndicator) {
                    demoIndicator.innerHTML = `
                        <div class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></div>
                        <span class="text-sm font-medium text-green-800 dark:text-green-200">Authenticated</span>
                    `;
                }
            }
        }
        
        function showUserMenu() {
            // Create user menu dropdown
            const existingMenu = document.getElementById('userMenu');
            if (existingMenu) {
                existingMenu.remove();
                return;
            }
            
            const menu = document.createElement('div');
            menu.id = 'userMenu';
            menu.className = 'absolute top-16 right-4 bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 py-2 w-48 z-50';
            menu.innerHTML = `
                <div class="px-4 py-2 border-b border-gray-200 dark:border-gray-700">
                    <p class="font-medium text-gray-900 dark:text-white">${currentUser.name}</p>
                    <p class="text-sm text-gray-600 dark:text-gray-400">${currentUser.email}</p>
                </div>
                <button onclick="showSection('verification')" class="w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700">
                    ${currentUser.verified ? '✅' : '⚠️'} Identity Verification
                </button>
                <button onclick="showAccountSettings()" class="w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700">
                    Account Settings
                </button>
                <button onclick="showSecuritySettings()" class="w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700">
                    Security
                </button>
                <div class="border-t border-gray-200 dark:border-gray-700 mt-2 pt-2">
                    <button onclick="handleSignOut()" class="w-full text-left px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-gray-100 dark:hover:bg-gray-700">
                        Sign Out
                    </button>
                </div>
            `;
            
            document.body.appendChild(menu);
            
            // Close menu when clicking outside
            setTimeout(() => {
                document.addEventListener('click', function closeMenu(e) {
                    if (!menu.contains(e.target)) {
                        menu.remove();
                        document.removeEventListener('click', closeMenu);
                    }
                });
            }, 100);
        }
        
        function handleSignOut() {
            currentUser = null;
            isAuthenticated = false;
            
            // Clear session storage
            localStorage.removeItem('jamiCryptoSession');
            sessionStorage.removeItem('jamiCryptoSession');
            
            // Reset UI
            location.reload(); // Simple way to reset everything
        }
        
        function showAccountSettings() {
            showNotification('Account settings would open in the full app', 'info');
            document.getElementById('userMenu')?.remove();
        }
        
        function showSecuritySettings() {
            showNotification('Security settings would open in the full app', 'info');
            document.getElementById('userMenu')?.remove();
        }
        
        function checkExistingSession() {
            const sessionData = JSON.parse(localStorage.getItem('jamiCryptoSession') || sessionStorage.getItem('jamiCryptoSession') || 'null');
            
            if (sessionData) {
                const user = users.find(u => u.id === sessionData.userId);
                if (user) {
                    currentUser = user;
                    isAuthenticated = true;
                    updateAuthenticatedUI();
                    showNotification(`Welcome back, ${user.name}!`, 'success', 2000);
                }
            }
        }

        // P2P Trading System
        let currentP2PTradeType = 'buy';
        let p2pOffers = [];
        let currentP2POffer = null;
        let createOfferType = 'sell';
        
        // Generate P2P offers data
        function generateP2POffers() {
            const traders = [
                { name: 'John Doe', avatar: 'JD', rating: 5, trades: 234, completionRate: 98.9, avgTime: '2.1 min' },
                { name: 'Alice Smith', avatar: 'AS', rating: 5, trades: 156, completionRate: 99.2, avgTime: '1.8 min' },
                { name: 'Bob Wilson', avatar: 'BW', rating: 4, trades: 89, completionRate: 96.5, avgTime: '3.2 min' },
                { name: 'Carol Brown', avatar: 'CB', rating: 5, trades: 312, completionRate: 99.5, avgTime: '1.5 min' },
                { name: 'David Lee', avatar: 'DL', rating: 4, trades: 67, completionRate: 94.8, avgTime: '4.1 min' },
                { name: 'Emma Davis', avatar: 'ED', rating: 5, trades: 198, completionRate: 98.7, avgTime: '2.3 min' },
                { name: 'Frank Miller', avatar: 'FM', rating: 4, trades: 145, completionRate: 97.2, avgTime: '2.8 min' },
                { name: 'Grace Taylor', avatar: 'GT', rating: 5, trades: 278, completionRate: 99.1, avgTime: '1.9 min' }
            ];
            
            const cryptos = ['BTC', 'ETH', 'USDT', 'BNB'];
            const fiats = ['USD', 'EUR', 'GBP', 'JPY', 'CAD'];
            const paymentMethods = ['Bank Transfer', 'PayPal', 'Wise', 'Revolut', 'Cash'];
            const marketPrices = { BTC: 43567, ETH: 2634, USDT: 1, BNB: 312 };
            
            const offers = [];
            
            traders.forEach((trader, index) => {
                cryptos.forEach(crypto => {
                    fiats.forEach(fiat => {
                        if (Math.random() > 0.7) { // 30% chance to create offer
                            const marketPrice = marketPrices[crypto];
                            const priceVariation = (Math.random() - 0.5) * 0.04; // ±2% variation
                            const price = marketPrice * (1 + priceVariation);
                            const minLimit = Math.floor(Math.random() * 500) + 50;
                            const maxLimit = Math.floor(Math.random() * 10000) + 1000;
                            
                            offers.push({
                                id: `${trader.name.replace(' ', '')}_${crypto}_${fiat}_${index}`,
                                trader: trader,
                                crypto: crypto,
                                fiat: fiat,
                                type: Math.random() > 0.5 ? 'buy' : 'sell',
                                price: price,
                                minLimit: minLimit,
                                maxLimit: maxLimit,
                                paymentMethod: paymentMethods[Math.floor(Math.random() * paymentMethods.length)],
                                available: Math.random() * 5 + 0.1,
                                terms: Math.random() > 0.7 ? 'Fast payment required. No third parties.' : '',
                                online: Math.random() > 0.2 // 80% online
                            });
                        }
                    });
                });
            });
            
            return offers.sort((a, b) => {
                if (currentP2PTradeType === 'buy') {
                    return a.price - b.price; // Lowest price first for buying
                } else {
                    return b.price - a.price; // Highest price first for selling
                }
            });
        }
        
        // P2P Functions
        function setP2PTradeType(type) {
            currentP2PTradeType = type;
            const buyTab = document.getElementById('p2pBuyTab');
            const sellTab = document.getElementById('p2pSellTab');
            const calculatorAction = document.getElementById('p2pCalculatorAction');
            
            if (type === 'buy') {
                buyTab.classList.add('bg-green-100', 'dark:bg-green-900', 'text-green-800', 'dark:text-green-200');
                buyTab.classList.remove('text-gray-600', 'dark:text-gray-400');
                sellTab.classList.remove('bg-red-100', 'dark:bg-red-900', 'text-red-800', 'dark:text-red-200');
                sellTab.classList.add('text-gray-600', 'dark:text-gray-400');
                calculatorAction.textContent = 'buy';
            } else {
                sellTab.classList.add('bg-red-100', 'dark:bg-red-900', 'text-red-800', 'dark:text-red-200');
                sellTab.classList.remove('text-gray-600', 'dark:text-gray-400');
                buyTab.classList.remove('bg-green-100', 'dark:bg-green-900', 'text-green-800', 'dark:text-green-200');
                buyTab.classList.add('text-gray-600', 'dark:text-gray-400');
                calculatorAction.textContent = 'sell';
            }
            
            filterP2POffers();
        }
        
        function filterP2POffers() {
            const crypto = document.getElementById('p2pCrypto').value;
            const fiat = document.getElementById('p2pFiat').value;
            const payment = document.getElementById('p2pPayment').value;
            const minAmount = parseFloat(document.getElementById('p2pMinAmount').value) || 0;
            const maxAmount = parseFloat(document.getElementById('p2pMaxAmount').value) || Infinity;
            
            let filteredOffers = p2pOffers.filter(offer => {
                return offer.crypto === crypto &&
                       offer.fiat === fiat &&
                       offer.type === (currentP2PTradeType === 'buy' ? 'sell' : 'buy') &&
                       (payment === '' || offer.paymentMethod.toLowerCase().includes(payment.toLowerCase()) || (payment === 'mpesa' && offer.paymentMethod === 'M-Pesa')) &&
                       offer.maxLimit >= minAmount &&
                       offer.minLimit <= maxAmount &&
                       offer.online;
            });
            
            // Sort by price
            filteredOffers.sort((a, b) => {
                if (currentP2PTradeType === 'buy') {
                    return a.price - b.price; // Lowest price first for buying
                } else {
                    return b.price - a.price; // Highest price first for selling
                }
            });
            
            populateP2POffers(filteredOffers);
            updateP2PCalculator();
        }
        
        function populateP2POffers(offers) {
            const offersList = document.getElementById('p2pOffersList');
            
            if (offers.length === 0) {
                offersList.innerHTML = `
                    <div class="text-center py-8">
                        <div class="w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4">
                            <svg class="w-8 h-8 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                            </svg>
                        </div>
                        <p class="text-gray-500 dark:text-gray-400">No offers found matching your criteria</p>
                        <button onclick="createP2POffer()" class="mt-4 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors">
                            Create the first offer
                        </button>
                    </div>
                `;
                return;
            }
            
            offersList.innerHTML = offers.slice(0, 10).map(offer => `
                <div class="p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:border-blue-500 dark:hover:border-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/10 transition-all cursor-pointer" onclick="openP2PTrade('${offer.id}')">
                    <div class="grid grid-cols-1 md:grid-cols-6 gap-4 items-center">
                        <!-- Trader Info -->
                        <div class="flex items-center space-x-3">
                            <div class="w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center">
                                <span class="text-white font-bold text-sm">${offer.trader.avatar}</span>
                            </div>
                            <div>
                                <p class="font-medium text-gray-900 dark:text-white">${offer.trader.name}</p>
                                <div class="flex items-center space-x-1">
                                    <span class="text-yellow-500 text-sm">${'★'.repeat(offer.trader.rating)}${'☆'.repeat(5-offer.trader.rating)}</span>
                                    <span class="text-xs text-gray-500 dark:text-gray-400">(${offer.trader.trades})</span>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Price -->
                        <div class="text-center md:text-left">
                            <p class="font-bold text-gray-900 dark:text-white">${offer.fiat === 'USD' ? '$' : offer.fiat === 'EUR' ? '€' : offer.fiat === 'GBP' ? '£' : offer.fiat === 'KES' ? 'KSh' : offer.fiat}${offer.price.toLocaleString('en-US', { minimumFractionDigits: 0, maximumFractionDigits: 2 })}</p>
                            <p class="text-xs text-gray-500 dark:text-gray-400">per ${offer.crypto}</p>
                        </div>
                        
                        <!-- Limits -->
                        <div class="text-center md:text-left">
                            <p class="text-sm font-medium text-gray-900 dark:text-white">${offer.fiat === 'USD' ? '$' : offer.fiat === 'EUR' ? '€' : offer.fiat === 'GBP' ? '£' : offer.fiat === 'KES' ? 'KSh' : offer.fiat}${offer.minLimit} - ${offer.fiat === 'USD' ? '$' : offer.fiat === 'EUR' ? '€' : offer.fiat === 'GBP' ? '£' : offer.fiat === 'KES' ? 'KSh' : offer.fiat}${offer.maxLimit.toLocaleString()}</p>
                            <p class="text-xs text-gray-500 dark:text-gray-400">Available: ${offer.available.toFixed(4)} ${offer.crypto}</p>
                        </div>
                        
                        <!-- Payment Method -->
                        <div class="text-center md:text-left">
                            <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200">
                                ${offer.paymentMethod}
                            </span>
                        </div>
                        
                        <!-- Completion Rate -->
                        <div class="text-center md:text-left">
                            <p class="text-sm font-medium text-green-600 dark:text-green-400">${offer.trader.completionRate}%</p>
                            <p class="text-xs text-gray-500 dark:text-gray-400">${offer.trader.avgTime}</p>
                        </div>
                        
                        <!-- Action Button -->
                        <div class="text-center md:text-right">
                            <button onclick="event.stopPropagation(); openP2PTrade('${offer.id}')" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors">
                                ${currentP2PTradeType === 'buy' ? 'Buy' : 'Sell'}
                            </button>
                        </div>
                    </div>
                    
                    ${offer.terms ? `
                        <div class="mt-3 pt-3 border-t border-gray-200 dark:border-gray-700">
                            <p class="text-sm text-gray-600 dark:text-gray-400">
                                <span class="font-medium">Terms:</span> ${offer.terms}
                            </p>
                        </div>
                    ` : ''}
                </div>
            `).join('');
        }
        
        function updateP2PCalculator() {
            const crypto = document.getElementById('p2pCrypto').value;
            document.getElementById('p2pCalculatorCrypto').textContent = crypto;
            calculateP2PTotal();
        }
        
        function calculateP2PTotal() {
            const amount = parseFloat(document.getElementById('p2pCalculatorAmount').value) || 0;
            const crypto = document.getElementById('p2pCrypto').value;
            const fiat = document.getElementById('p2pFiat').value;
            
            // Find best price from current offers
            const relevantOffers = p2pOffers.filter(offer => 
                offer.crypto === crypto && 
                offer.fiat === fiat && 
                offer.type === (currentP2PTradeType === 'buy' ? 'sell' : 'buy') &&
                offer.online
            );
            
            if (relevantOffers.length > 0) {
                const bestOffer = relevantOffers.sort((a, b) => 
                    currentP2PTradeType === 'buy' ? a.price - b.price : b.price - a.price
                )[0];
                
                const total = amount * bestOffer.price;
                const symbol = fiat === 'USD' ? '$' : fiat === 'EUR' ? '€' : fiat === 'GBP' ? '£' : fiat === 'KES' ? 'KSh' : fiat;
                document.getElementById('p2pCalculatorTotal').textContent = `${symbol}${total.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;
            } else {
                document.getElementById('p2pCalculatorTotal').textContent = '$0.00';
            }
        }
        
        function openP2PTrade(offerId) {
            currentP2POffer = p2pOffers.find(offer => offer.id === offerId);
            if (!currentP2POffer) return;
            
            // Update modal content
            document.getElementById('p2pTradeModalTitle').textContent = `${currentP2PTradeType === 'buy' ? 'Buy' : 'Sell'} ${currentP2POffer.crypto}`;
            document.getElementById('p2pTraderAvatar').innerHTML = `<span class="text-white font-bold">${currentP2POffer.trader.avatar}</span>`;
            document.getElementById('p2pTraderName').textContent = currentP2POffer.trader.name;
            document.getElementById('p2pTraderRating').textContent = '★'.repeat(currentP2POffer.trader.rating) + '☆'.repeat(5-currentP2POffer.trader.rating);
            document.getElementById('p2pTraderTrades').textContent = `(${currentP2POffer.trader.trades} trades)`;
            
            const symbol = currentP2POffer.fiat === 'USD' ? '$' : currentP2POffer.fiat === 'EUR' ? '€' : currentP2POffer.fiat === 'GBP' ? '£' : currentP2POffer.fiat === 'KES' ? 'KSh' : currentP2POffer.fiat;
            document.getElementById('p2pOfferPrice').textContent = `${symbol}${currentP2POffer.price.toLocaleString()}`;
            document.getElementById('p2pOfferPayment').textContent = currentP2POffer.paymentMethod;
            document.getElementById('p2pMinLimit').textContent = `${symbol}${currentP2POffer.minLimit}`;
            document.getElementById('p2pMaxLimit').textContent = `${symbol}${currentP2POffer.maxLimit.toLocaleString()}`;
            
            // Reset form
            document.getElementById('p2pTradeAmount').value = '';
            document.getElementById('p2pReceiveAmount').textContent = `0 ${currentP2POffer.crypto}`;
            
            // Show modal
            document.getElementById('p2pTradeModal').classList.remove('hidden');
            document.getElementById('p2pTradeModal').classList.add('flex');
        }
        
        function calculateP2PTradeAmount() {
            if (!currentP2POffer) return;
            
            const amount = parseFloat(document.getElementById('p2pTradeAmount').value) || 0;
            const cryptoAmount = amount / currentP2POffer.price;
            
            document.getElementById('p2pReceiveAmount').textContent = 
                `${cryptoAmount.toFixed(8)} ${currentP2POffer.crypto}`;
        }
        
        function confirmP2PTrade() {
            const amount = parseFloat(document.getElementById('p2pTradeAmount').value);
            
            if (!amount || amount < currentP2POffer.minLimit || amount > currentP2POffer.maxLimit) {
                showNotification('Please enter a valid amount within the specified limits', 'error');
                return;
            }
            
            // Simulate trade confirmation
            closeModal('p2pTradeModal');
            
            showNotification('🎉 P2P trade initiated! You will receive payment instructions shortly.', 'success', 4000);
            
            // Simulate trade progress
            setTimeout(() => {
                showNotification('💬 Trader has been notified. Awaiting payment confirmation...', 'info', 3000);
            }, 2000);
            
            setTimeout(() => {
                showNotification('✅ Payment received! Crypto has been released to your wallet.', 'success', 4000);
            }, 8000);
        }
        
        function createP2POffer() {
            document.getElementById('p2pCreateOfferModal').classList.remove('hidden');
            document.getElementById('p2pCreateOfferModal').classList.add('flex');
        }
        
        function setCreateOfferType(type) {
            createOfferType = type;
            const sellBtn = document.getElementById('createOfferSell');
            const buyBtn = document.getElementById('createOfferBuy');
            
            if (type === 'sell') {
                sellBtn.classList.add('border-blue-500', 'bg-blue-50', 'dark:bg-blue-900/20', 'text-blue-800', 'dark:text-blue-200');
                sellBtn.classList.remove('border-gray-200', 'dark:border-gray-700', 'text-gray-700', 'dark:text-gray-300');
                buyBtn.classList.remove('border-blue-500', 'bg-blue-50', 'dark:bg-blue-900/20', 'text-blue-800', 'dark:text-blue-200');
                buyBtn.classList.add('border-gray-200', 'dark:border-gray-700', 'text-gray-700', 'dark:text-gray-300');
            } else {
                buyBtn.classList.add('border-blue-500', 'bg-blue-50', 'dark:bg-blue-900/20', 'text-blue-800', 'dark:text-blue-200');
                buyBtn.classList.remove('border-gray-200', 'dark:border-gray-700', 'text-gray-700', 'dark:text-gray-300');
                sellBtn.classList.remove('border-blue-500', 'bg-blue-50', 'dark:bg-blue-900/20', 'text-blue-800', 'dark:text-blue-200');
                sellBtn.classList.add('border-gray-200', 'dark:border-gray-700', 'text-gray-700', 'dark:text-gray-300');
            }
        }
        
        function submitP2POffer() {
            const crypto = document.getElementById('createOfferCrypto').value;
            const fiat = document.getElementById('createOfferFiat').value;
            const price = parseFloat(document.getElementById('createOfferPrice').value);
            const amount = parseFloat(document.getElementById('createOfferAmount').value);
            const minLimit = parseFloat(document.getElementById('createOfferMinLimit').value);
            const maxLimit = parseFloat(document.getElementById('createOfferMaxLimit').value);
            
            if (!price || !amount || !minLimit || !maxLimit) {
                showNotification('Please fill in all required fields', 'error');
                return;
            }
            
            if (minLimit >= maxLimit) {
                showNotification('Maximum limit must be greater than minimum limit', 'error');
                return;
            }
            
            // Simulate offer creation
            closeModal('p2pCreateOfferModal');
            showNotification(`🎉 Your ${createOfferType} offer for ${amount} ${crypto} has been created successfully!`, 'success', 4000);
            
            // Reset form
            document.getElementById('createOfferPrice').value = '';
            document.getElementById('createOfferAmount').value = '';
            document.getElementById('createOfferMinLimit').value = '';
            document.getElementById('createOfferMaxLimit').value = '';
            document.getElementById('createOfferTerms').value = '';
        }
        
        function showP2PHistory() {
            showNotification('P2P trading history would open in the full app', 'info');
        }

        // Initialize everything when page loads
        document.addEventListener('DOMContentLoaded', function() {
            // Generate and populate market data
            allMarketData = generateMarketData();
            selectedCoin = allMarketData[0]; // Default to Bitcoin
            
            // Generate trading pairs
            allTradingPairs = generateTradingPairs();
            
            // Generate P2P offers
            p2pOffers = generateP2POffers();
            
            // Populate initial data
            populateCryptoTable();
            populateAssetList();
            populateTransactionHistory();
            populateWatchlist();
            populateAlerts();
            populateOrderBook();
            populateMarketTable();
            
            // Initialize trading UI
            updateTradingPairUI();
            calculateTradeTotal();
            
            // Initialize P2P
            filterP2POffers();
            
            // Initialize charts
            setTimeout(() => {
                initializeCharts();
                updateSelectedCoinDisplay();
                updateCandlestickChart();
                updateTradingChart();
            }, 100);
            
            // Setup search functionality
            setupSearch();
            
            // Start real-time updates
            setInterval(updatePrices, 3000);
            setInterval(() => {
                // Update market data periodically
                allMarketData = generateMarketData();
                if (selectedCoin) {
                    selectedCoin = allMarketData.find(coin => coin.symbol === selectedCoin.symbol);
                    updateSelectedCoinDisplay();
                }
                populateMarketTable();
                
                // Update trading pair prices
                allTradingPairs = generateTradingPairs();
                updateTradingPairUI();
                
                // Update P2P offers
                p2pOffers = generateP2POffers();
                filterP2POffers();
                
                // Update trading pair buttons
                allTradingPairs.filter(p => p.quote === 'USDT' && ['BTC', 'ETH', 'BNB', 'SOL'].includes(p.base)).forEach(pair => {
                    const btn = document.getElementById(`pair-${pair.base}-${pair.quote}`);
                    if (btn) {
                        const priceElement = btn.querySelector('p');
                        if (priceElement) {
                            priceElement.textContent = `$${pair.price.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 6 })}`;
                        }
                    }
                });
            }, 5000);
            
            // Enhance UX
            updateTradeInputs();
            enhanceVerificationUX();
            enhanceModals();
            trackLearningProgress();
            trackPortfolio();
            
            // Check for existing session
            checkExistingSession();
            
            // Setup password strength monitoring
            const signupPasswordInput = document.getElementById('signupPassword');
            if (signupPasswordInput) {
                signupPasswordInput.addEventListener('input', updatePasswordStrength);
            }
            
            // Show welcome notification
            setTimeout(() => {
                if (!isAuthenticated) {
                    showNotification('Welcome to JamiCrypto! 🚀 Try switching between different trading pairs!', 'success', 5000);
                }
            }, 1000);
            
            console.log('🚀 JamiCrypto fully initialized with active trading pair switching!');
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'97f7f876e6da3f1f',t:'MTc1NzkzNzY5OC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
